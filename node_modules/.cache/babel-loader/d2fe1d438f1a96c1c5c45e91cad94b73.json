{"ast":null,"code":"var extend = require(\"xtend\");\nvar h = require('hyperscript');\nvar handleChange = require('./handle_change');\nmodule.exports = function (options) {\n  options = extend({\n    value: 50,\n    min: 0,\n    max: 100,\n    step: 1,\n    cursor: false,\n    thickness: 0.35,\n    lineCap: 'butt',\n    readOnly: false,\n    displayInput: true,\n    width: 200,\n    height: options.width || 200,\n    bgColor: '#EEEEEE',\n    fgColor: '#87CEEB',\n    labelColor: '#888',\n    angleOffset: 0,\n    angleArc: 360,\n    className: null,\n    activeClass: null\n  }, options);\n  var canvas = h('canvas', {\n    height: options.height,\n    width: options.width,\n    style: {\n      'position': 'absolute'\n    }\n  });\n  var context2d = canvas.getContext(\"2d\");\n  var fontScale = Math.max(String(Math.abs(options.max)).length, String(Math.abs(options.min)).length, 2) + 2;\n  var inputOptions = {\n    value: options.value,\n    style: {\n      'position': 'absolute',\n      'top': options.width / 2 - options.width / 7 + 'px',\n      'left': getLineWidth(options) + 'px',\n      'width': options.width - getLineWidth(options) * 2 + 'px',\n      'vertical-align': 'middle',\n      'border': 0,\n      'background': 'none',\n      'font': 'bold ' + (options.width / fontScale >> 0) + 'px Arial',\n      'text-align': 'center',\n      'color': options.fgColor,\n      'padding': '0px',\n      '-webkit-appearance': 'none'\n    }\n  };\n  if (options.readOnly) {\n    inputOptions['disabled'] = true;\n  }\n  if (options.displayInput === false) {\n    inputOptions.style['display'] = 'none';\n  }\n  var input = h('input', inputOptions);\n  var label = h('span', {\n    style: {\n      'color': options.labelColor,\n      'position': 'absolute',\n      'bottom': 0,\n      'font-size': '80%',\n      'text-align': 'center',\n      'pointer-events': 'none',\n      'top': options.width / 2 + options.width / 8 - 3 + 'px',\n      'left': 0,\n      'right': 0\n    }\n  }, options.label);\n  var element = h('div', {\n    className: options.className,\n    style: {\n      'display': 'inline-block',\n      'position': 'relative',\n      'height': options.height + 'px',\n      'width': options.width + 'px'\n    }\n  }, canvas, input, label);\n  element.canvas = canvas;\n  element.options = options;\n  var renderedValue = options.value;\n  var animating = false;\n  element.setValue = function (value, event) {\n    value = Math.min(options.max, Math.max(options.min, value));\n    options.value = value;\n    element.value = value;\n    if (!animating) {\n      refreshCanvas();\n    }\n    if (event === true && element.onchange) {\n      element.onchange();\n    }\n  };\n  element.getValue = function () {\n    return options.value;\n  };\n  input.onchange = function () {\n    element.setValue(this.value);\n  };\n  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n  function refreshCanvas() {\n    if (renderedValue === options.value) {\n      animating = false;\n    } else {\n      animating = true;\n      renderedValue = options.value;\n      context2d.clearRect(0, 0, canvas.width, canvas.height);\n      draw(context2d, options);\n      input.value = options.value;\n      requestAnimationFrame.call(window, refreshCanvas);\n    }\n  }\n  draw(context2d, options);\n  if (!options.readOnly) {\n    handleChange(element);\n  }\n  return element;\n};\nfunction getLineWidth(options) {\n  var xy = options.width / 2;\n  return xy * options.thickness;\n}\nfunction draw(context2d, options) {\n  // deg to rad\n  var angleOffset = options.angleOffset * Math.PI / 180;\n  var angleArc = options.angleArc * Math.PI / 180;\n  var angle = (options.value - options.min) * angleArc / (options.max - options.min);\n  var xy = options.width / 2;\n  var lineWidth = xy * options.thickness;\n  var radius = xy - lineWidth / 2;\n  var startAngle = 1.5 * Math.PI + angleOffset;\n  var endAngle = 1.5 * Math.PI + angleOffset + angleArc;\n  var startAt = startAngle;\n  var endAt = startAt + angle;\n  if (options.cursor) {\n    var cursorExt = options.cursor / 100 || 1;\n    startAt = endAt - cursorExt;\n    endAt = endAt + cursorExt;\n  }\n  context2d.lineWidth = lineWidth;\n  context2d.lineCap = options.lineCap;\n  context2d.beginPath();\n  context2d.strokeStyle = options.bgColor;\n  context2d.arc(xy, xy, radius, endAngle, startAngle, true);\n  context2d.stroke();\n  context2d.beginPath();\n  context2d.strokeStyle = options.fgColor;\n  context2d.arc(xy, xy, radius, startAt, endAt, false);\n  context2d.stroke();\n}","map":{"version":3,"names":["extend","require","h","handleChange","module","exports","options","value","min","max","step","cursor","thickness","lineCap","readOnly","displayInput","width","height","bgColor","fgColor","labelColor","angleOffset","angleArc","className","activeClass","canvas","style","context2d","getContext","fontScale","Math","String","abs","length","inputOptions","getLineWidth","input","label","element","renderedValue","animating","setValue","event","refreshCanvas","onchange","getValue","requestAnimationFrame","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","clearRect","draw","call","xy","PI","angle","lineWidth","radius","startAngle","endAngle","startAt","endAt","cursorExt","beginPath","strokeStyle","arc","stroke"],"sources":["/home/rifat/uk client/garage/garage-frontend-2/theme/node_modules/knob/index.js"],"sourcesContent":["var extend = require(\"xtend\")\nvar h = require('hyperscript')\n\nvar handleChange = require('./handle_change')\n\nmodule.exports = function(options){\n\n  options = extend({\n    value: 50,\n\n    min: 0,\n    max: 100,\n    step: 1,\n\n    cursor: false,\n    thickness: 0.35,\n    lineCap: 'butt',\n    readOnly: false,\n    displayInput: true,\n\n    width: 200,\n    height: options.width || 200,\n\n    bgColor: '#EEEEEE',\n    fgColor: '#87CEEB',\n    labelColor: '#888',\n\n    angleOffset: 0,\n    angleArc: 360,\n\n    className: null,\n    activeClass: null\n\n  }, options)\n\n  var canvas = h('canvas', {\n    height: options.height,\n    width: options.width,\n    style: {'position': 'absolute'}\n  })\n\n  var context2d = canvas.getContext(\"2d\")\n\n  var fontScale = Math.max(String(Math.abs(options.max)).length, String(Math.abs(options.min)).length, 2) + 2\n\n  var inputOptions = {value: options.value, style: {\n    'position' : 'absolute',\n    'top': (options.width / 2) - (options.width / 7) + 'px',\n    'left': getLineWidth(options) + 'px',\n    'width': options.width - (getLineWidth(options)*2) + 'px',\n    'vertical-align' : 'middle',\n    'border' : 0,\n    'background' : 'none',\n    'font' : 'bold ' + ((options.width / fontScale) >> 0) + 'px Arial',\n    'text-align' : 'center',\n    'color' : options.fgColor,\n    'padding' : '0px',\n    '-webkit-appearance': 'none'\n  }}\n\n  if(options.readOnly){\n    inputOptions['disabled'] = true\n  }\n\n  if(options.displayInput === false){\n    inputOptions.style['display'] = 'none';\n  }\n\n  var input = h('input', inputOptions);\n\n  var label = h('span', {style: {\n    'color': options.labelColor,\n    'position': 'absolute',\n    'bottom': 0,\n    'font-size': '80%',\n    'text-align': 'center',\n    'pointer-events': 'none',\n    'top': (options.width / 2) + (options.width / 8) - 3 + 'px',\n    'left': 0,\n    'right': 0\n  }}, options.label)\n\n  var element = h('div', { className: options.className,\n    style: {'display': 'inline-block', 'position': 'relative', 'height': options.height + 'px', 'width': options.width + 'px'}\n  }, canvas, input, label)\n\n  element.canvas = canvas\n  element.options = options\n\n  var renderedValue = options.value\n  var animating = false\n\n  element.setValue = function(value, event){\n    value = Math.min(options.max, Math.max(options.min, value))\n    options.value = value\n    element.value = value\n    if (!animating){\n      refreshCanvas()\n    }\n    if (event === true && element.onchange){\n      element.onchange()\n    }\n  }\n\n  element.getValue = function(){\n    return options.value\n  }\n\n  input.onchange = function(){\n    element.setValue(this.value)\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                                window.webkitRequestAnimationFrame || window.msRequestAnimationFrame\n\n  function refreshCanvas(){\n    if (renderedValue === options.value){\n      animating = false\n    } else {\n      animating = true\n      renderedValue = options.value\n      context2d.clearRect(0, 0, canvas.width, canvas.height)\n      draw(context2d, options)\n      input.value = options.value\n      requestAnimationFrame.call(window, refreshCanvas)\n    }\n  }\n\n  draw(context2d, options)\n\n  if(!options.readOnly){\n    handleChange(element)\n  }\n\n  return element\n}\n\nfunction getLineWidth(options){\n  var xy = options.width / 2\n  return xy * options.thickness\n}\n\nfunction draw(context2d, options){\n  // deg to rad\n  var angleOffset = options.angleOffset * Math.PI / 180\n  var angleArc = options.angleArc * Math.PI / 180\n\n  var angle = (options.value - options.min) * angleArc / (options.max - options.min)\n\n  var xy = options.width / 2\n  var lineWidth = xy * options.thickness\n  var radius = xy - lineWidth / 2;\n\n  var startAngle = 1.5 * Math.PI + angleOffset;\n  var endAngle = 1.5 * Math.PI + angleOffset + angleArc;\n\n  var startAt = startAngle\n  var endAt = startAt + angle\n\n  if (options.cursor){\n    var cursorExt = (options.cursor / 100) || 1;\n    startAt = endAt - cursorExt\n    endAt = endAt + cursorExt\n  }\n\n  context2d.lineWidth = lineWidth\n  context2d.lineCap = options.lineCap;\n\n  context2d.beginPath()\n    context2d.strokeStyle = options.bgColor\n    context2d.arc(xy, xy, radius, endAngle, startAngle, true)\n  context2d.stroke()\n\n  context2d.beginPath()\n    context2d.strokeStyle = options.fgColor\n    context2d.arc(xy, xy, radius, startAt, endAt, false)\n  context2d.stroke()\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}