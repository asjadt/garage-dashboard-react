{"ast":null,"code":"import { ADD_TO_CART, DECREMENT_QTY, REMOVE_FROM_CART } from '../../actionTypes';\nconst INIT_STATE = {\n  cart: []\n};\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case ADD_TO_CART:\n      const productId = action.payload.product.id;\n      if (state.cart.findIndex(product => product.id === productId) !== -1) {\n        const cart = state.cart.reduce((cartAcc, product) => {\n          if (product.id === productId) {\n            cartAcc.push({\n              ...product,\n              qty: product.qty + 1,\n              sum: product.price * (product.qty + 1)\n            });\n          } else {\n            cartAcc.push(product);\n          }\n          return cartAcc;\n        }, []);\n        return {\n          ...state,\n          cart\n        };\n      }\n      return {\n        ...state,\n        cart: [...state.cart, {\n          ...action.payload.product,\n          qty: action.payload.qty,\n          sum: action.payload.product.price * action.payload.qty\n        }]\n      };\n    case DECREMENT_QTY:\n      if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n        const cart = state.cart.reduce((cartAcc, product) => {\n          if (product.id === action.productId && product.qty > 1) {\n            cartAcc.push({\n              ...product,\n              qty: product.qty - 1,\n              sum: product.price * (product.qty - 1)\n            });\n          } else {\n            cartAcc.push(product);\n          }\n          return cartAcc;\n        }, []);\n        return {\n          ...state,\n          cart\n        };\n      }\n      return {\n        ...state,\n        cart: [...state.cart, {\n          ...action.product,\n          qty: action.qty,\n          sum: action.product.price * action.qty\n        }]\n      };\n    case REMOVE_FROM_CART:\n      return {\n        cart: state.cart.filter(item => item.id !== action.product_id.id)\n      };\n    default:\n      return state;\n  }\n});","map":{"version":3,"names":["ADD_TO_CART","DECREMENT_QTY","REMOVE_FROM_CART","INIT_STATE","cart","state","action","type","productId","payload","product","id","findIndex","reduce","cartAcc","push","qty","sum","price","filter","item","product_id"],"sources":["/home/rifat/uk client/garage/garage-frontend-2/theme/src/redux/ecommerce/cart/reducer.js"],"sourcesContent":["import {\n    ADD_TO_CART,\n    DECREMENT_QTY,\n    REMOVE_FROM_CART,\n} from '../../actionTypes';\n\nconst INIT_STATE = {\n    cart: [],\n};\nexport default (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n        \n        case ADD_TO_CART:\n        const productId = action.payload.product.id\n        if (state.cart.findIndex(product => product.id === productId) !== -1) {\n            const cart = state.cart.reduce((cartAcc, product) => {\n                if (product.id === productId) {\n                    cartAcc.push({ ...product, qty: product.qty + 1, sum: (product.price) * (product.qty + 1) }) \n                } else {\n                    cartAcc.push(product)\n                }\n                return cartAcc\n            }, [])\n\n            return { ...state, cart }\n        }\n\n        return { ...state, cart: [...state.cart, { ...action.payload.product, qty: action.payload.qty, sum: (action.payload.product.price) * action.payload.qty }] }\n\n        case DECREMENT_QTY:\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === action.productId && product.qty > 1) {\n                        cartAcc.push({ ...product, qty: product.qty - 1, sum: (product.price) * (product.qty - 1) }) \n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n        return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, sum: action.product.price * action.qty }] }\n        \n\n        case REMOVE_FROM_CART:\n            return {\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\n            }\n            \n        default:\n            return state;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}