{"ast":null,"code":"import { createElement, Component, createRef, Fragment, createContext } from 'react';\nimport Script from 'react-load-script';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nvar chartDefaultProps = {\n  graph_id: null,\n  legend_toggle: false,\n  graphID: null,\n  options: {\n    colors: null\n  },\n  data: null,\n  rows: null,\n  columns: null,\n  diffdata: null,\n  chartEvents: null,\n  legendToggle: false,\n  chartActions: null,\n  getChartWrapper: function (chartWrapper, google) {},\n  getChartEditor: null,\n  className: \"\",\n  style: {},\n  formatters: null,\n  spreadSheetUrl: null,\n  spreadSheetQueryParameters: {\n    headers: 1,\n    gid: 1\n  },\n  rootProps: {},\n  chartWrapperParams: {},\n  controls: null,\n  render: null,\n  toolbarItems: null,\n  toolbarID: null\n};\nvar GoogleChartLoader = function (_super) {\n  __extends(GoogleChartLoader, _super);\n  function GoogleChartLoader() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.handleGoogleChartsLoaderScriptLoaded = function (windowGoogleCharts) {\n      var _a = _this.props,\n        version = _a.chartVersion,\n        packages = _a.chartPackages,\n        language = _a.chartLanguage,\n        mapsApiKey = _a.mapsApiKey,\n        onLoad = _a.onLoad;\n      windowGoogleCharts.charts.load(version || \"current\", {\n        packages: packages || [\"corechart\", \"controls\"],\n        language: language || \"en\",\n        mapsApiKey: mapsApiKey\n      });\n      windowGoogleCharts.charts.setOnLoadCallback(function () {\n        onLoad(windowGoogleCharts);\n      });\n    };\n    return _this;\n  }\n  GoogleChartLoader.prototype.shouldComponentUpdate = function (nextProps) {\n    return nextProps.chartPackages === this.props.chartPackages;\n  };\n  GoogleChartLoader.prototype.render = function () {\n    var _this = this;\n    var onError = this.props.onError;\n    return createElement(Script, {\n      url: \"https://www.gstatic.com/charts/loader.js\",\n      onError: onError,\n      onLoad: function () {\n        var windowWithGoogle = window;\n        if (windowWithGoogle.google) {\n          _this.handleGoogleChartsLoaderScriptLoaded(windowWithGoogle.google);\n        }\n      }\n    });\n  };\n  return GoogleChartLoader;\n}(Component);\nvar uniqueID = 0;\nvar generateUniqueID = function () {\n  uniqueID += 1;\n  return \"reactgooglegraph-\" + uniqueID;\n};\nvar DEFAULT_CHART_COLORS = [\"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\", \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\", \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#3B3EAC\"];\nvar _this = undefined;\nvar loadDataTableFromSpreadSheet = function (googleViz, spreadSheetUrl, urlParams) {\n  if (urlParams === void 0) {\n    urlParams = {};\n  }\n  return __awaiter(_this, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2, new Promise(function (resolve, reject) {\n        var headers = \"\" + (urlParams.headers ? \"headers=\" + urlParams.headers : \"headers=0\");\n        var queryString = \"\" + (urlParams.query ? \"&tq=\" + encodeURIComponent(urlParams.query) : \"\");\n        var gid = \"\" + (urlParams.gid ? \"&gid=\" + urlParams.gid : \"\");\n        var sheet = \"\" + (urlParams.sheet ? \"&sheet=\" + urlParams.sheet : \"\");\n        var access_token = \"\" + (urlParams.access_token ? \"&access_token=\" + urlParams.access_token : \"\");\n        var urlQueryString = \"\" + headers + gid + sheet + queryString + access_token;\n        var urlToSpreadSheet = spreadSheetUrl + \"/gviz/tq?\" + urlQueryString;\n        var query = new googleViz.visualization.Query(urlToSpreadSheet);\n        query.send(function (response) {\n          if (response.isError()) {\n            reject(\"Error in query:  \" + response.getMessage() + \" \" + response.getDetailedMessage());\n          } else {\n            resolve(response.getDataTable());\n          }\n        });\n      })];\n    });\n  });\n};\nvar _a = createContext(chartDefaultProps),\n  Provider = _a.Provider,\n  Consumer = _a.Consumer;\nvar ContextProvider = function (_a) {\n  var children = _a.children,\n    value = _a.value;\n  return createElement(Provider, {\n    value: value\n  }, children);\n};\nvar ContextConsumer = function (_a) {\n  var render = _a.render;\n  return createElement(Consumer, null, function (context) {\n    return render(context);\n  });\n};\nvar GRAY_COLOR = \"#CCCCCC\";\nvar GoogleChartDataTableInner = function (_super) {\n  __extends(GoogleChartDataTableInner, _super);\n  function GoogleChartDataTableInner() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      hiddenColumns: []\n    };\n    _this.listenToLegendToggle = function () {\n      var _a = _this.props,\n        google = _a.google,\n        googleChartWrapper = _a.googleChartWrapper;\n      google.visualization.events.addListener(googleChartWrapper, \"select\", function () {\n        var chart = googleChartWrapper.getChart();\n        var selection = chart.getSelection();\n        var dataTable = googleChartWrapper.getDataTable();\n        if (selection.length === 0 || selection[0].row !== null || dataTable === null) {\n          return;\n        }\n        var columnIndex = selection[0].column;\n        var columnID = _this.getColumnID(dataTable, columnIndex);\n        if (_this.state.hiddenColumns.includes(columnID)) {\n          _this.setState(function (state) {\n            return __assign({}, state, {\n              hiddenColumns: state.hiddenColumns.filter(function (colID) {\n                return colID !== columnID;\n              }).slice()\n            });\n          });\n        } else {\n          _this.setState(function (state) {\n            return __assign({}, state, {\n              hiddenColumns: state.hiddenColumns.concat([columnID])\n            });\n          });\n        }\n      });\n    };\n    _this.applyFormatters = function (dataTable, formatters) {\n      var google = _this.props.google;\n      for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n        var formatter = formatters_1[_i];\n        switch (formatter.type) {\n          case \"ArrowFormat\":\n            {\n              var vizFormatter = new google.visualization.ArrowFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n          case \"BarFormat\":\n            {\n              var vizFormatter = new google.visualization.BarFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n          case \"ColorFormat\":\n            {\n              var vizFormatter = new google.visualization.ColorFormat(formatter.options);\n              var ranges = formatter.ranges;\n              for (var _a = 0, ranges_1 = ranges; _a < ranges_1.length; _a++) {\n                var range = ranges_1[_a];\n                vizFormatter.addRange.apply(vizFormatter, range);\n              }\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n          case \"DateFormat\":\n            {\n              var vizFormatter = new google.visualization.DateFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n          case \"NumberFormat\":\n            {\n              var vizFormatter = new google.visualization.NumberFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n          case \"PatternFormat\":\n            {\n              var vizFormatter = new google.visualization.PatternFormat(formatter.options);\n              vizFormatter.format(dataTable, formatter.column);\n              break;\n            }\n        }\n      }\n    };\n    _this.getColumnID = function (dataTable, columnIndex) {\n      return dataTable.getColumnId(columnIndex) || dataTable.getColumnLabel(columnIndex);\n    };\n    _this.draw = function (_a) {\n      var data = _a.data,\n        diffdata = _a.diffdata,\n        rows = _a.rows,\n        columns = _a.columns,\n        options = _a.options,\n        legend_toggle = _a.legend_toggle,\n        legendToggle = _a.legendToggle,\n        chartType = _a.chartType,\n        formatters = _a.formatters,\n        spreadSheetUrl = _a.spreadSheetUrl,\n        spreadSheetQueryParameters = _a.spreadSheetQueryParameters;\n      return __awaiter(_this, void 0, void 0, function () {\n        var _b, google, googleChartWrapper, dataTable, chartDiff, oldData, newData, columnCount, i, columnID, previousColumnLabel, previousColumnID, previousColumnType, chart;\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              _b = this.props, google = _b.google, googleChartWrapper = _b.googleChartWrapper;\n              chartDiff = null;\n              if (diffdata !== null) {\n                oldData = google.visualization.arrayToDataTable(diffdata.old);\n                newData = google.visualization.arrayToDataTable(diffdata.new);\n                chartDiff = google.visualization[chartType].prototype.computeDiff(oldData, newData);\n              }\n              if (!(data !== null)) return [3, 1];\n              if (Array.isArray(data)) {\n                dataTable = google.visualization.arrayToDataTable(data);\n              } else {\n                dataTable = new google.visualization.DataTable(data);\n              }\n              return [3, 5];\n            case 1:\n              if (!(rows !== null && columns !== null)) return [3, 2];\n              dataTable = google.visualization.arrayToDataTable([columns].concat(rows));\n              return [3, 5];\n            case 2:\n              if (!(spreadSheetUrl !== null)) return [3, 4];\n              return [4, loadDataTableFromSpreadSheet(google, spreadSheetUrl, spreadSheetQueryParameters)];\n            case 3:\n              dataTable = _c.sent();\n              return [3, 5];\n            case 4:\n              dataTable = google.visualization.arrayToDataTable([]);\n              _c.label = 5;\n            case 5:\n              columnCount = dataTable.getNumberOfColumns();\n              for (i = 0; i < columnCount; i += 1) {\n                columnID = this.getColumnID(dataTable, i);\n                if (this.state.hiddenColumns.includes(columnID)) {\n                  previousColumnLabel = dataTable.getColumnLabel(i);\n                  previousColumnID = dataTable.getColumnId(i);\n                  previousColumnType = dataTable.getColumnType(i);\n                  dataTable.removeColumn(i);\n                  dataTable.addColumn({\n                    label: previousColumnLabel,\n                    id: previousColumnID,\n                    type: previousColumnType\n                  });\n                }\n              }\n              chart = googleChartWrapper.getChart();\n              if (googleChartWrapper.getChartType() === \"Timeline\") {\n                chart && chart.clearChart();\n              }\n              googleChartWrapper.setChartType(chartType);\n              googleChartWrapper.setOptions(options);\n              googleChartWrapper.setDataTable(dataTable);\n              googleChartWrapper.draw();\n              if (this.props.googleChartDashboard !== null) {\n                this.props.googleChartDashboard.draw(dataTable);\n              }\n              if (chartDiff !== null) {\n                googleChartWrapper.setDataTable(chartDiff);\n                googleChartWrapper.draw();\n              }\n              if (formatters !== null) {\n                this.applyFormatters(dataTable, formatters);\n                googleChartWrapper.setDataTable(dataTable);\n                googleChartWrapper.draw();\n              }\n              if (legendToggle === true || legend_toggle === true) {\n                this.grayOutHiddenColumns({\n                  options: options\n                });\n              }\n              return [2];\n          }\n        });\n      });\n    };\n    _this.grayOutHiddenColumns = function (_a) {\n      var options = _a.options;\n      var googleChartWrapper = _this.props.googleChartWrapper;\n      var dataTable = googleChartWrapper.getDataTable();\n      if (dataTable === null) return;\n      var columnCount = dataTable.getNumberOfColumns();\n      var hasAHiddenColumn = _this.state.hiddenColumns.length > 0;\n      if (hasAHiddenColumn === false) return;\n      var colors = Array.from({\n        length: columnCount - 1\n      }).map(function (dontcare, i) {\n        var columnID = _this.getColumnID(dataTable, i + 1);\n        if (_this.state.hiddenColumns.includes(columnID)) {\n          return GRAY_COLOR;\n        } else if (typeof options.colors !== \"undefined\" && options.colors !== null) {\n          return options.colors[i];\n        } else {\n          return DEFAULT_CHART_COLORS[i];\n        }\n      });\n      googleChartWrapper.setOptions(__assign({}, options, {\n        colors: colors\n      }));\n      googleChartWrapper.draw();\n    };\n    _this.onResize = function () {\n      var googleChartWrapper = _this.props.googleChartWrapper;\n      googleChartWrapper.draw();\n    };\n    return _this;\n  }\n  GoogleChartDataTableInner.prototype.componentDidMount = function () {\n    this.draw(this.props);\n    window.addEventListener(\"resize\", this.onResize);\n    if (this.props.legend_toggle || this.props.legendToggle) {\n      this.listenToLegendToggle();\n    }\n  };\n  GoogleChartDataTableInner.prototype.componentWillUnmount = function () {\n    var _a = this.props,\n      google = _a.google,\n      googleChartWrapper = _a.googleChartWrapper;\n    window.removeEventListener(\"resize\", this.onResize);\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    if (googleChartWrapper.getChartType() === \"Timeline\") {\n      googleChartWrapper.getChart() && googleChartWrapper.getChart().clearChart();\n    }\n  };\n  GoogleChartDataTableInner.prototype.componentDidUpdate = function () {\n    this.draw(this.props);\n  };\n  GoogleChartDataTableInner.prototype.render = function () {\n    return null;\n  };\n  return GoogleChartDataTableInner;\n}(Component);\nvar GoogleChartDataTable = function (_super) {\n  __extends(GoogleChartDataTable, _super);\n  function GoogleChartDataTable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GoogleChartDataTable.prototype.componentDidMount = function () {};\n  GoogleChartDataTable.prototype.componentWillUnmount = function () {};\n  GoogleChartDataTable.prototype.shouldComponentUpdate = function () {\n    return false;\n  };\n  GoogleChartDataTable.prototype.render = function () {\n    var _a = this.props,\n      google = _a.google,\n      googleChartWrapper = _a.googleChartWrapper,\n      googleChartDashboard = _a.googleChartDashboard;\n    return createElement(ContextConsumer, {\n      render: function (props) {\n        return createElement(GoogleChartDataTableInner, __assign({}, props, {\n          google: google,\n          googleChartWrapper: googleChartWrapper,\n          googleChartDashboard: googleChartDashboard\n        }));\n      }\n    });\n  };\n  return GoogleChartDataTable;\n}(Component);\nvar GoogleChartEvents = function (_super) {\n  __extends(GoogleChartEvents, _super);\n  function GoogleChartEvents() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GoogleChartEvents.prototype.shouldComponentUpdate = function () {\n    return false;\n  };\n  GoogleChartEvents.prototype.listenToEvents = function (_a) {\n    var _this = this;\n    var chartEvents = _a.chartEvents,\n      google = _a.google,\n      googleChartWrapper = _a.googleChartWrapper;\n    if (chartEvents === null) {\n      return;\n    }\n    google.visualization.events.removeAllListeners(googleChartWrapper);\n    var _loop_1 = function (event_1) {\n      var eventName = event_1.eventName,\n        callback = event_1.callback;\n      google.visualization.events.addListener(googleChartWrapper, eventName, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        callback({\n          chartWrapper: googleChartWrapper,\n          props: _this.props,\n          google: google,\n          eventArgs: args\n        });\n      });\n    };\n    for (var _i = 0, chartEvents_1 = chartEvents; _i < chartEvents_1.length; _i++) {\n      var event_1 = chartEvents_1[_i];\n      _loop_1(event_1);\n    }\n  };\n  GoogleChartEvents.prototype.render = function () {\n    var _this = this;\n    var _a = this.props,\n      google = _a.google,\n      googleChartWrapper = _a.googleChartWrapper;\n    return createElement(ContextConsumer, {\n      render: function (propsFromContext) {\n        _this.listenToEvents({\n          chartEvents: propsFromContext.chartEvents || null,\n          google: google,\n          googleChartWrapper: googleChartWrapper\n        });\n        return null;\n      }\n    });\n  };\n  return GoogleChartEvents;\n}(Component);\nvar controlCounter = 0;\nvar GoogleChart = function (_super) {\n  __extends(GoogleChart, _super);\n  function GoogleChart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      googleChartWrapper: null,\n      googleChartDashboard: null,\n      googleChartControls: null,\n      googleChartEditor: null,\n      isReady: false\n    };\n    _this.graphID = null;\n    _this.dashboard_ref = createRef();\n    _this.toolbar_ref = createRef();\n    _this.getGraphID = function () {\n      var _a = _this.props,\n        graphID = _a.graphID,\n        graph_id = _a.graph_id;\n      var instanceGraphID;\n      if (graphID === null && graph_id === null) {\n        if (_this.graphID === null) {\n          instanceGraphID = generateUniqueID();\n        } else {\n          instanceGraphID = _this.graphID;\n        }\n      } else if (graphID !== null && graph_id === null) {\n        instanceGraphID = graphID;\n      } else if (graph_id !== null && graphID === null) {\n        instanceGraphID = graph_id;\n      } else {\n        instanceGraphID = graphID;\n      }\n      _this.graphID = instanceGraphID;\n      return _this.graphID;\n    };\n    _this.getControlID = function (id, index) {\n      controlCounter += 1;\n      var controlID;\n      if (typeof id === \"undefined\") {\n        controlID = \"googlechart-control-\" + index + \"-\" + controlCounter;\n      } else {\n        controlID = id;\n      }\n      return controlID;\n    };\n    _this.addControls = function (googleChartWrapper, googleChartDashboard) {\n      var _a = _this.props,\n        google = _a.google,\n        controls = _a.controls;\n      var googleChartControls = controls === null ? null : controls.map(function (control, i) {\n        var controlIDMaybe = control.controlID,\n          controlType = control.controlType,\n          controlOptions = control.options,\n          controlWrapperParams = control.controlWrapperParams;\n        var controlID = _this.getControlID(controlIDMaybe, i);\n        return {\n          controlProp: control,\n          control: new google.visualization.ControlWrapper(__assign({\n            containerId: controlID,\n            controlType: controlType,\n            options: controlOptions\n          }, controlWrapperParams))\n        };\n      });\n      if (googleChartControls === null) {\n        return null;\n      }\n      googleChartDashboard.bind(googleChartControls.map(function (_a) {\n        var control = _a.control;\n        return control;\n      }), googleChartWrapper);\n      var _loop_1 = function (chartControl) {\n        var control = chartControl.control,\n          controlProp = chartControl.controlProp;\n        var _a = controlProp.controlEvents,\n          controlEvents = _a === void 0 ? [] : _a;\n        var _loop_2 = function (event_1) {\n          var callback = event_1.callback,\n            eventName = event_1.eventName;\n          google.visualization.events.removeListener(control, eventName, callback);\n          google.visualization.events.addListener(control, eventName, function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n              args[_i] = arguments[_i];\n            }\n            callback({\n              chartWrapper: googleChartWrapper,\n              controlWrapper: control,\n              props: _this.props,\n              google: google,\n              eventArgs: args\n            });\n          });\n        };\n        for (var _i = 0, controlEvents_1 = controlEvents; _i < controlEvents_1.length; _i++) {\n          var event_1 = controlEvents_1[_i];\n          _loop_2(event_1);\n        }\n      };\n      for (var _i = 0, googleChartControls_1 = googleChartControls; _i < googleChartControls_1.length; _i++) {\n        var chartControl = googleChartControls_1[_i];\n        _loop_1(chartControl);\n      }\n      return googleChartControls;\n    };\n    _this.renderChart = function () {\n      var _a = _this.props,\n        width = _a.width,\n        height = _a.height,\n        options = _a.options,\n        style = _a.style,\n        className = _a.className,\n        rootProps = _a.rootProps,\n        google = _a.google;\n      var divStyle = __assign({\n        height: height || options && options.height,\n        width: width || options && options.width\n      }, style);\n      return createElement(\"div\", __assign({\n        id: _this.getGraphID(),\n        style: divStyle,\n        className: className\n      }, rootProps), _this.state.isReady && _this.state.googleChartWrapper !== null ? createElement(Fragment, null, createElement(GoogleChartDataTable, {\n        googleChartWrapper: _this.state.googleChartWrapper,\n        google: google,\n        googleChartDashboard: _this.state.googleChartDashboard\n      }), createElement(GoogleChartEvents, {\n        googleChartWrapper: _this.state.googleChartWrapper,\n        google: google\n      })) : null);\n    };\n    _this.renderControl = function (filter) {\n      if (filter === void 0) {\n        filter = function (_a) {\n          var control = _a.control,\n            controlProp = _a.controlProp;\n          return true;\n        };\n      }\n      return _this.state.isReady && _this.state.googleChartControls !== null ? createElement(Fragment, null, _this.state.googleChartControls.filter(function (_a) {\n        var controlProp = _a.controlProp,\n          control = _a.control;\n        return filter({\n          control: control,\n          controlProp: controlProp\n        });\n      }).map(function (_a) {\n        var control = _a.control,\n          controlProp = _a.controlProp;\n        return createElement(\"div\", {\n          key: control.getContainerId(),\n          id: control.getContainerId()\n        });\n      })) : null;\n    };\n    _this.renderToolBar = function () {\n      if (_this.props.toolbarItems === null) return null;\n      return createElement(\"div\", {\n        ref: _this.toolbar_ref\n      });\n    };\n    return _this;\n  }\n  GoogleChart.prototype.componentDidMount = function () {\n    var _a = this.props,\n      options = _a.options,\n      google = _a.google,\n      chartType = _a.chartType,\n      chartWrapperParams = _a.chartWrapperParams,\n      toolbarItems = _a.toolbarItems,\n      getChartEditor = _a.getChartEditor,\n      getChartWrapper = _a.getChartWrapper;\n    var chartConfig = __assign({\n      chartType: chartType,\n      options: options,\n      containerId: this.getGraphID()\n    }, chartWrapperParams);\n    var googleChartWrapper = new google.visualization.ChartWrapper(chartConfig);\n    googleChartWrapper.setOptions(options);\n    getChartWrapper(googleChartWrapper, google);\n    var googleChartDashboard = new google.visualization.Dashboard(this.dashboard_ref);\n    var googleChartControls = this.addControls(googleChartWrapper, googleChartDashboard);\n    if (toolbarItems !== null) {\n      google.visualization.drawToolbar(this.toolbar_ref.current, toolbarItems);\n    }\n    var googleChartEditor = null;\n    if (getChartEditor !== null) {\n      googleChartEditor = new google.visualization.ChartEditor();\n      getChartEditor({\n        chartEditor: googleChartEditor,\n        chartWrapper: googleChartWrapper,\n        google: google\n      });\n    }\n    this.setState({\n      googleChartEditor: googleChartEditor,\n      googleChartControls: googleChartControls,\n      googleChartDashboard: googleChartDashboard,\n      googleChartWrapper: googleChartWrapper,\n      isReady: true\n    });\n  };\n  GoogleChart.prototype.componentDidUpdate = function () {\n    if (this.state.googleChartWrapper === null) return;\n    if (this.state.googleChartDashboard === null) return;\n    if (this.state.googleChartControls === null) return;\n    var controls = this.props.controls;\n    for (var i = 0; i < controls.length; i += 1) {\n      var _a = controls[i],\n        controlType = _a.controlType,\n        options = _a.options,\n        controlWrapperParams = _a.controlWrapperParams;\n      if (controlWrapperParams && \"state\" in controlWrapperParams) {\n        this.state.googleChartControls[i].control.setState(controlWrapperParams[\"state\"]);\n      }\n      this.state.googleChartControls[i].control.setOptions(options);\n      this.state.googleChartControls[i].control.setControlType(controlType);\n    }\n  };\n  GoogleChart.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    return this.state.isReady !== nextState.isReady || nextProps.controls !== this.props.controls;\n  };\n  GoogleChart.prototype.render = function () {\n    var _a = this.props,\n      width = _a.width,\n      height = _a.height,\n      options = _a.options,\n      style = _a.style;\n    var divStyle = __assign({\n      height: height || options && options.height,\n      width: width || options && options.width\n    }, style);\n    if (this.props.render !== null) {\n      return createElement(\"div\", {\n        ref: this.dashboard_ref,\n        style: divStyle\n      }, createElement(\"div\", {\n        ref: this.toolbar_ref,\n        id: \"toolbar\"\n      }), this.props.render({\n        renderChart: this.renderChart,\n        renderControl: this.renderControl,\n        renderToolbar: this.renderToolBar\n      }));\n    } else {\n      return createElement(\"div\", {\n        ref: this.dashboard_ref,\n        style: divStyle\n      }, this.renderControl(function (_a) {\n        var controlProp = _a.controlProp;\n        return controlProp.controlPosition !== \"bottom\";\n      }), this.renderChart(), this.renderControl(function (_a) {\n        var controlProp = _a.controlProp;\n        return controlProp.controlPosition === \"bottom\";\n      }), this.renderToolBar());\n    }\n  };\n  return GoogleChart;\n}(Component);\nvar Chart = function (_super) {\n  __extends(Chart, _super);\n  function Chart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._isMounted = false;\n    _this.state = {\n      loadingStatus: \"loading\",\n      google: null\n    };\n    _this.onLoad = function (google) {\n      if (_this.isFullyLoaded(google)) {\n        _this.onSuccess(google);\n      } else {\n        var id_1 = setInterval(function () {\n          var google = window.google;\n          if (_this._isMounted) {\n            if (google && _this.isFullyLoaded(google)) {\n              clearInterval(id_1);\n              _this.onSuccess(google);\n            }\n          } else {\n            clearInterval(id_1);\n          }\n        }, 1000);\n      }\n    };\n    _this.onSuccess = function (google) {\n      _this.setState({\n        loadingStatus: \"ready\",\n        google: google\n      });\n    };\n    _this.onError = function () {\n      _this.setState({\n        loadingStatus: \"errored\"\n      });\n    };\n    return _this;\n  }\n  Chart.prototype.render = function () {\n    var _a = this.props,\n      chartLanguage = _a.chartLanguage,\n      chartPackages = _a.chartPackages,\n      chartVersion = _a.chartVersion,\n      mapsApiKey = _a.mapsApiKey,\n      loader = _a.loader,\n      errorElement = _a.errorElement;\n    return createElement(ContextProvider, {\n      value: this.props\n    }, this.state.loadingStatus === \"ready\" && this.state.google !== null ? createElement(GoogleChart, __assign({}, this.props, {\n      google: this.state.google\n    })) : this.state.loadingStatus === \"errored\" && errorElement ? errorElement : loader, createElement(GoogleChartLoader, __assign({}, {\n      chartLanguage: chartLanguage,\n      chartPackages: chartPackages,\n      chartVersion: chartVersion,\n      mapsApiKey: mapsApiKey\n    }, {\n      onLoad: this.onLoad,\n      onError: this.onError\n    })));\n  };\n  Chart.prototype.componentDidMount = function () {\n    this._isMounted = true;\n  };\n  Chart.prototype.componentWillUnmount = function () {\n    this._isMounted = false;\n  };\n  Chart.prototype.isFullyLoaded = function (google) {\n    var _a = this.props,\n      controls = _a.controls,\n      toolbarItems = _a.toolbarItems,\n      getChartEditor = _a.getChartEditor;\n    return google && google.visualization && google.visualization.ChartWrapper && google.visualization.Dashboard && (!controls || google.visualization.ChartWrapper) && (!getChartEditor || google.visualization.ChartEditor) && (!toolbarItems || google.visualization.drawToolbar);\n  };\n  Chart.defaultProps = chartDefaultProps;\n  return Chart;\n}(Component);\nexport default Chart;\nexport { Chart };","map":{"version":3,"names":["createElement","Component","createRef","Fragment","createContext","Script","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","chartDefaultProps","graph_id","legend_toggle","graphID","options","colors","data","rows","columns","diffdata","chartEvents","legendToggle","chartActions","getChartWrapper","chartWrapper","google","getChartEditor","className","style","formatters","spreadSheetUrl","spreadSheetQueryParameters","headers","gid","rootProps","chartWrapperParams","controls","render","toolbarItems","toolbarID","GoogleChartLoader","_super","_this","handleGoogleChartsLoaderScriptLoaded","windowGoogleCharts","_a","props","version","chartVersion","packages","chartPackages","language","chartLanguage","mapsApiKey","onLoad","charts","load","setOnLoadCallback","shouldComponentUpdate","nextProps","onError","url","windowWithGoogle","window","uniqueID","generateUniqueID","DEFAULT_CHART_COLORS","undefined","loadDataTableFromSpreadSheet","googleViz","urlParams","queryString","query","encodeURIComponent","sheet","access_token","urlQueryString","urlToSpreadSheet","visualization","Query","send","response","isError","getMessage","getDetailedMessage","getDataTable","Provider","Consumer","ContextProvider","children","ContextConsumer","context","GRAY_COLOR","GoogleChartDataTableInner","state","hiddenColumns","listenToLegendToggle","googleChartWrapper","events","addListener","chart","getChart","selection","getSelection","dataTable","row","columnIndex","column","columnID","getColumnID","includes","setState","filter","colID","slice","concat","applyFormatters","_i","formatters_1","formatter","type","vizFormatter","ArrowFormat","format","BarFormat","ColorFormat","ranges","ranges_1","range","addRange","DateFormat","NumberFormat","PatternFormat","getColumnId","getColumnLabel","draw","chartType","_b","chartDiff","oldData","newData","columnCount","previousColumnLabel","previousColumnID","previousColumnType","_c","arrayToDataTable","old","new","computeDiff","isArray","DataTable","getNumberOfColumns","getColumnType","removeColumn","addColumn","id","getChartType","clearChart","setChartType","setOptions","setDataTable","googleChartDashboard","grayOutHiddenColumns","hasAHiddenColumn","from","map","dontcare","onResize","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","removeAllListeners","componentDidUpdate","GoogleChartDataTable","GoogleChartEvents","listenToEvents","_loop_1","event_1","eventName","callback","args","eventArgs","chartEvents_1","propsFromContext","controlCounter","GoogleChart","googleChartControls","googleChartEditor","isReady","dashboard_ref","toolbar_ref","getGraphID","instanceGraphID","getControlID","index","controlID","addControls","control","controlIDMaybe","controlType","controlOptions","controlWrapperParams","controlProp","ControlWrapper","containerId","bind","chartControl","controlEvents","_loop_2","removeListener","controlWrapper","controlEvents_1","googleChartControls_1","renderChart","width","height","divStyle","renderControl","key","getContainerId","renderToolBar","ref","chartConfig","ChartWrapper","Dashboard","drawToolbar","current","ChartEditor","chartEditor","setControlType","nextState","renderToolbar","controlPosition","Chart","_isMounted","loadingStatus","isFullyLoaded","onSuccess","id_1","setInterval","clearInterval","loader","errorElement","defaultProps"],"sources":["/home/rifat/uk client/garage/garage-frontend-2/theme/node_modules/react-google-charts/dist/index.esm.js"],"sourcesContent":["import { createElement, Component, createRef, Fragment, createContext } from 'react';\nimport Script from 'react-load-script';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\nvar chartDefaultProps = {\r\n    graph_id: null,\r\n    legend_toggle: false,\r\n    graphID: null,\r\n    options: {\r\n        colors: null\r\n    },\r\n    data: null,\r\n    rows: null,\r\n    columns: null,\r\n    diffdata: null,\r\n    chartEvents: null,\r\n    legendToggle: false,\r\n    chartActions: null,\r\n    getChartWrapper: function (chartWrapper, google) { },\r\n    getChartEditor: null,\r\n    className: \"\",\r\n    style: {},\r\n    formatters: null,\r\n    spreadSheetUrl: null,\r\n    spreadSheetQueryParameters: {\r\n        headers: 1,\r\n        gid: 1\r\n    },\r\n    rootProps: {},\r\n    chartWrapperParams: {},\r\n    controls: null,\r\n    render: null,\r\n    toolbarItems: null,\r\n    toolbarID: null\r\n};\n\nvar GoogleChartLoader = (function (_super) {\r\n    __extends(GoogleChartLoader, _super);\r\n    function GoogleChartLoader() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.handleGoogleChartsLoaderScriptLoaded = function (windowGoogleCharts) {\r\n            var _a = _this.props, version = _a.chartVersion, packages = _a.chartPackages, language = _a.chartLanguage, mapsApiKey = _a.mapsApiKey, onLoad = _a.onLoad;\r\n            windowGoogleCharts.charts.load(version || \"current\", {\r\n                packages: packages || [\"corechart\", \"controls\"],\r\n                language: language || \"en\",\r\n                mapsApiKey: mapsApiKey\r\n            });\r\n            windowGoogleCharts.charts.setOnLoadCallback(function () {\r\n                onLoad(windowGoogleCharts);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartLoader.prototype.shouldComponentUpdate = function (nextProps) {\r\n        return nextProps.chartPackages === this.props.chartPackages;\r\n    };\r\n    GoogleChartLoader.prototype.render = function () {\r\n        var _this = this;\r\n        var onError = this.props.onError;\r\n        return (createElement(Script, { url: \"https://www.gstatic.com/charts/loader.js\", onError: onError, onLoad: function () {\r\n                var windowWithGoogle = window;\r\n                if (windowWithGoogle.google) {\r\n                    _this.handleGoogleChartsLoaderScriptLoaded(windowWithGoogle.google);\r\n                }\r\n            } }));\r\n    };\r\n    return GoogleChartLoader;\r\n}(Component));\n\nvar uniqueID = 0;\r\nvar generateUniqueID = function () {\r\n    uniqueID += 1;\r\n    return \"reactgooglegraph-\" + uniqueID;\r\n};\n\nvar DEFAULT_CHART_COLORS = [\r\n    \"#3366CC\",\r\n    \"#DC3912\",\r\n    \"#FF9900\",\r\n    \"#109618\",\r\n    \"#990099\",\r\n    \"#3B3EAC\",\r\n    \"#0099C6\",\r\n    \"#DD4477\",\r\n    \"#66AA00\",\r\n    \"#B82E2E\",\r\n    \"#316395\",\r\n    \"#994499\",\r\n    \"#22AA99\",\r\n    \"#AAAA11\",\r\n    \"#6633CC\",\r\n    \"#E67300\",\r\n    \"#8B0707\",\r\n    \"#329262\",\r\n    \"#5574A6\",\r\n    \"#3B3EAC\"\r\n];\n\nvar _this = undefined;\r\nvar loadDataTableFromSpreadSheet = function (googleViz, spreadSheetUrl, urlParams) {\r\n    if (urlParams === void 0) { urlParams = {}; }\r\n    return __awaiter(_this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            return [2, new Promise(function (resolve, reject) {\r\n                    var headers = \"\" + (urlParams.headers ? \"headers=\" + urlParams.headers : \"headers=0\");\r\n                    var queryString = \"\" + (urlParams.query ? \"&tq=\" + encodeURIComponent(urlParams.query) : \"\");\r\n                    var gid = \"\" + (urlParams.gid ? \"&gid=\" + urlParams.gid : \"\");\r\n                    var sheet = \"\" + (urlParams.sheet ? \"&sheet=\" + urlParams.sheet : \"\");\r\n                    var access_token = \"\" + (urlParams.access_token ? \"&access_token=\" + urlParams.access_token : \"\");\r\n                    var urlQueryString = \"\" + headers + gid + sheet + queryString + access_token;\r\n                    var urlToSpreadSheet = spreadSheetUrl + \"/gviz/tq?\" + urlQueryString;\r\n                    var query = new googleViz.visualization.Query(urlToSpreadSheet);\r\n                    query.send(function (response) {\r\n                        if (response.isError()) {\r\n                            reject(\"Error in query:  \" + response.getMessage() + \" \" + response.getDetailedMessage());\r\n                        }\r\n                        else {\r\n                            resolve(response.getDataTable());\r\n                        }\r\n                    });\r\n                })];\r\n        });\r\n    });\r\n};\n\nvar _a = createContext(chartDefaultProps), Provider = _a.Provider, Consumer = _a.Consumer;\r\nvar ContextProvider = function (_a) {\r\n    var children = _a.children, value = _a.value;\r\n    return createElement(Provider, { value: value }, children);\r\n};\r\nvar ContextConsumer = function (_a) {\r\n    var render = _a.render;\r\n    return (createElement(Consumer, null, function (context) {\r\n        return render(context);\r\n    }));\r\n};\n\nvar GRAY_COLOR = \"#CCCCCC\";\r\nvar GoogleChartDataTableInner = (function (_super) {\r\n    __extends(GoogleChartDataTableInner, _super);\r\n    function GoogleChartDataTableInner() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            hiddenColumns: []\r\n        };\r\n        _this.listenToLegendToggle = function () {\r\n            var _a = _this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n            google.visualization.events.addListener(googleChartWrapper, \"select\", function () {\r\n                var chart = googleChartWrapper.getChart();\r\n                var selection = chart.getSelection();\r\n                var dataTable = googleChartWrapper.getDataTable();\r\n                if (selection.length === 0 ||\r\n                    selection[0].row !== null ||\r\n                    dataTable === null) {\r\n                    return;\r\n                }\r\n                var columnIndex = selection[0].column;\r\n                var columnID = _this.getColumnID(dataTable, columnIndex);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.filter(function (colID) { return colID !== columnID; }).slice() })); });\r\n                }\r\n                else {\r\n                    _this.setState(function (state) { return (__assign({}, state, { hiddenColumns: state.hiddenColumns.concat([columnID]) })); });\r\n                }\r\n            });\r\n        };\r\n        _this.applyFormatters = function (dataTable, formatters) {\r\n            var google = _this.props.google;\r\n            for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\r\n                var formatter = formatters_1[_i];\r\n                switch (formatter.type) {\r\n                    case \"ArrowFormat\": {\r\n                        var vizFormatter = new google.visualization.ArrowFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"BarFormat\": {\r\n                        var vizFormatter = new google.visualization.BarFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"ColorFormat\": {\r\n                        var vizFormatter = new google.visualization.ColorFormat(formatter.options);\r\n                        var ranges = formatter.ranges;\r\n                        for (var _a = 0, ranges_1 = ranges; _a < ranges_1.length; _a++) {\r\n                            var range = ranges_1[_a];\r\n                            vizFormatter.addRange.apply(vizFormatter, range);\r\n                        }\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"DateFormat\": {\r\n                        var vizFormatter = new google.visualization.DateFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"NumberFormat\": {\r\n                        var vizFormatter = new google.visualization.NumberFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                    case \"PatternFormat\": {\r\n                        var vizFormatter = new google.visualization.PatternFormat(formatter.options);\r\n                        vizFormatter.format(dataTable, formatter.column);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        _this.getColumnID = function (dataTable, columnIndex) {\r\n            return (dataTable.getColumnId(columnIndex) ||\r\n                dataTable.getColumnLabel(columnIndex));\r\n        };\r\n        _this.draw = function (_a) {\r\n            var data = _a.data, diffdata = _a.diffdata, rows = _a.rows, columns = _a.columns, options = _a.options, legend_toggle = _a.legend_toggle, legendToggle = _a.legendToggle, chartType = _a.chartType, formatters = _a.formatters, spreadSheetUrl = _a.spreadSheetUrl, spreadSheetQueryParameters = _a.spreadSheetQueryParameters;\r\n            return __awaiter(_this, void 0, void 0, function () {\r\n                var _b, google, googleChartWrapper, dataTable, chartDiff, oldData, newData, columnCount, i, columnID, previousColumnLabel, previousColumnID, previousColumnType, chart;\r\n                return __generator(this, function (_c) {\r\n                    switch (_c.label) {\r\n                        case 0:\r\n                            _b = this.props, google = _b.google, googleChartWrapper = _b.googleChartWrapper;\r\n                            chartDiff = null;\r\n                            if (diffdata !== null) {\r\n                                oldData = google.visualization.arrayToDataTable(diffdata.old);\r\n                                newData = google.visualization.arrayToDataTable(diffdata.new);\r\n                                chartDiff = google.visualization[chartType].prototype.computeDiff(oldData, newData);\r\n                            }\r\n                            if (!(data !== null)) return [3, 1];\r\n                            if (Array.isArray(data)) {\r\n                                dataTable = google.visualization.arrayToDataTable(data);\r\n                            }\r\n                            else {\r\n                                dataTable = new google.visualization.DataTable(data);\r\n                            }\r\n                            return [3, 5];\r\n                        case 1:\r\n                            if (!(rows !== null && columns !== null)) return [3, 2];\r\n                            dataTable = google.visualization.arrayToDataTable([columns].concat(rows));\r\n                            return [3, 5];\r\n                        case 2:\r\n                            if (!(spreadSheetUrl !== null)) return [3, 4];\r\n                            return [4, loadDataTableFromSpreadSheet(google, spreadSheetUrl, spreadSheetQueryParameters)];\r\n                        case 3:\r\n                            dataTable = (_c.sent());\r\n                            return [3, 5];\r\n                        case 4:\r\n                            dataTable = google.visualization.arrayToDataTable([]);\r\n                            _c.label = 5;\r\n                        case 5:\r\n                            columnCount = dataTable.getNumberOfColumns();\r\n                            for (i = 0; i < columnCount; i += 1) {\r\n                                columnID = this.getColumnID(dataTable, i);\r\n                                if (this.state.hiddenColumns.includes(columnID)) {\r\n                                    previousColumnLabel = dataTable.getColumnLabel(i);\r\n                                    previousColumnID = dataTable.getColumnId(i);\r\n                                    previousColumnType = dataTable.getColumnType(i);\r\n                                    dataTable.removeColumn(i);\r\n                                    dataTable.addColumn({\r\n                                        label: previousColumnLabel,\r\n                                        id: previousColumnID,\r\n                                        type: previousColumnType\r\n                                    });\r\n                                }\r\n                            }\r\n                            chart = googleChartWrapper.getChart();\r\n                            if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n                                chart && chart.clearChart();\r\n                            }\r\n                            googleChartWrapper.setChartType(chartType);\r\n                            googleChartWrapper.setOptions(options);\r\n                            googleChartWrapper.setDataTable(dataTable);\r\n                            googleChartWrapper.draw();\r\n                            if (this.props.googleChartDashboard !== null) {\r\n                                this.props.googleChartDashboard.draw(dataTable);\r\n                            }\r\n                            if (chartDiff !== null) {\r\n                                googleChartWrapper.setDataTable(chartDiff);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (formatters !== null) {\r\n                                this.applyFormatters(dataTable, formatters);\r\n                                googleChartWrapper.setDataTable(dataTable);\r\n                                googleChartWrapper.draw();\r\n                            }\r\n                            if (legendToggle === true || legend_toggle === true) {\r\n                                this.grayOutHiddenColumns({ options: options });\r\n                            }\r\n                            return [2];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        _this.grayOutHiddenColumns = function (_a) {\r\n            var options = _a.options;\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            var dataTable = googleChartWrapper.getDataTable();\r\n            if (dataTable === null)\r\n                return;\r\n            var columnCount = dataTable.getNumberOfColumns();\r\n            var hasAHiddenColumn = _this.state.hiddenColumns.length > 0;\r\n            if (hasAHiddenColumn === false)\r\n                return;\r\n            var colors = Array.from({ length: columnCount - 1 }).map(function (dontcare, i) {\r\n                var columnID = _this.getColumnID(dataTable, i + 1);\r\n                if (_this.state.hiddenColumns.includes(columnID)) {\r\n                    return GRAY_COLOR;\r\n                }\r\n                else if (typeof options.colors !== \"undefined\" &&\r\n                    options.colors !== null) {\r\n                    return options.colors[i];\r\n                }\r\n                else {\r\n                    return DEFAULT_CHART_COLORS[i];\r\n                }\r\n            });\r\n            googleChartWrapper.setOptions(__assign({}, options, { colors: colors }));\r\n            googleChartWrapper.draw();\r\n        };\r\n        _this.onResize = function () {\r\n            var googleChartWrapper = _this.props.googleChartWrapper;\r\n            googleChartWrapper.draw();\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChartDataTableInner.prototype.componentDidMount = function () {\r\n        this.draw(this.props);\r\n        window.addEventListener(\"resize\", this.onResize);\r\n        if (this.props.legend_toggle || this.props.legendToggle) {\r\n            this.listenToLegendToggle();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentWillUnmount = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        if (googleChartWrapper.getChartType() === \"Timeline\") {\r\n            googleChartWrapper.getChart() &&\r\n                googleChartWrapper.getChart().clearChart();\r\n        }\r\n    };\r\n    GoogleChartDataTableInner.prototype.componentDidUpdate = function () {\r\n        this.draw(this.props);\r\n    };\r\n    GoogleChartDataTableInner.prototype.render = function () {\r\n        return null;\r\n    };\r\n    return GoogleChartDataTableInner;\r\n}(Component));\r\nvar GoogleChartDataTable = (function (_super) {\r\n    __extends(GoogleChartDataTable, _super);\r\n    function GoogleChartDataTable() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartDataTable.prototype.componentDidMount = function () { };\r\n    GoogleChartDataTable.prototype.componentWillUnmount = function () { };\r\n    GoogleChartDataTable.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartDataTable.prototype.render = function () {\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper, googleChartDashboard = _a.googleChartDashboard;\r\n        return (createElement(ContextConsumer, { render: function (props) {\r\n                return (createElement(GoogleChartDataTableInner, __assign({}, props, { google: google, googleChartWrapper: googleChartWrapper, googleChartDashboard: googleChartDashboard })));\r\n            } }));\r\n    };\r\n    return GoogleChartDataTable;\r\n}(Component));\n\nvar GoogleChartEvents = (function (_super) {\r\n    __extends(GoogleChartEvents, _super);\r\n    function GoogleChartEvents() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    GoogleChartEvents.prototype.shouldComponentUpdate = function () {\r\n        return false;\r\n    };\r\n    GoogleChartEvents.prototype.listenToEvents = function (_a) {\r\n        var _this = this;\r\n        var chartEvents = _a.chartEvents, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        if (chartEvents === null) {\r\n            return;\r\n        }\r\n        google.visualization.events.removeAllListeners(googleChartWrapper);\r\n        var _loop_1 = function (event_1) {\r\n            var eventName = event_1.eventName, callback = event_1.callback;\r\n            google.visualization.events.addListener(googleChartWrapper, eventName, function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                callback({\r\n                    chartWrapper: googleChartWrapper,\r\n                    props: _this.props,\r\n                    google: google,\r\n                    eventArgs: args\r\n                });\r\n            });\r\n        };\r\n        for (var _i = 0, chartEvents_1 = chartEvents; _i < chartEvents_1.length; _i++) {\r\n            var event_1 = chartEvents_1[_i];\r\n            _loop_1(event_1);\r\n        }\r\n    };\r\n    GoogleChartEvents.prototype.render = function () {\r\n        var _this = this;\r\n        var _a = this.props, google = _a.google, googleChartWrapper = _a.googleChartWrapper;\r\n        return (createElement(ContextConsumer, { render: function (propsFromContext) {\r\n                _this.listenToEvents({\r\n                    chartEvents: propsFromContext.chartEvents || null,\r\n                    google: google,\r\n                    googleChartWrapper: googleChartWrapper\r\n                });\r\n                return null;\r\n            } }));\r\n    };\r\n    return GoogleChartEvents;\r\n}(Component));\n\nvar controlCounter = 0;\r\nvar GoogleChart = (function (_super) {\r\n    __extends(GoogleChart, _super);\r\n    function GoogleChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            googleChartWrapper: null,\r\n            googleChartDashboard: null,\r\n            googleChartControls: null,\r\n            googleChartEditor: null,\r\n            isReady: false\r\n        };\r\n        _this.graphID = null;\r\n        _this.dashboard_ref = createRef();\r\n        _this.toolbar_ref = createRef();\r\n        _this.getGraphID = function () {\r\n            var _a = _this.props, graphID = _a.graphID, graph_id = _a.graph_id;\r\n            var instanceGraphID;\r\n            if (graphID === null && graph_id === null) {\r\n                if (_this.graphID === null) {\r\n                    instanceGraphID = generateUniqueID();\r\n                }\r\n                else {\r\n                    instanceGraphID = _this.graphID;\r\n                }\r\n            }\r\n            else if (graphID !== null && graph_id === null) {\r\n                instanceGraphID = graphID;\r\n            }\r\n            else if (graph_id !== null && graphID === null) {\r\n                instanceGraphID = graph_id;\r\n            }\r\n            else {\r\n                instanceGraphID = graphID;\r\n            }\r\n            _this.graphID = instanceGraphID;\r\n            return _this.graphID;\r\n        };\r\n        _this.getControlID = function (id, index) {\r\n            controlCounter += 1;\r\n            var controlID;\r\n            if (typeof id === \"undefined\") {\r\n                controlID = \"googlechart-control-\" + index + \"-\" + controlCounter;\r\n            }\r\n            else {\r\n                controlID = id;\r\n            }\r\n            return controlID;\r\n        };\r\n        _this.addControls = function (googleChartWrapper, googleChartDashboard) {\r\n            var _a = _this.props, google = _a.google, controls = _a.controls;\r\n            var googleChartControls = controls === null\r\n                ? null\r\n                : controls.map(function (control, i) {\r\n                    var controlIDMaybe = control.controlID, controlType = control.controlType, controlOptions = control.options, controlWrapperParams = control.controlWrapperParams;\r\n                    var controlID = _this.getControlID(controlIDMaybe, i);\r\n                    return {\r\n                        controlProp: control,\r\n                        control: new google.visualization.ControlWrapper(__assign({ containerId: controlID, controlType: controlType, options: controlOptions }, controlWrapperParams))\r\n                    };\r\n                });\r\n            if (googleChartControls === null) {\r\n                return null;\r\n            }\r\n            googleChartDashboard.bind(googleChartControls.map(function (_a) {\r\n                var control = _a.control;\r\n                return control;\r\n            }), googleChartWrapper);\r\n            var _loop_1 = function (chartControl) {\r\n                var control = chartControl.control, controlProp = chartControl.controlProp;\r\n                var _a = controlProp.controlEvents, controlEvents = _a === void 0 ? [] : _a;\r\n                var _loop_2 = function (event_1) {\r\n                    var callback = event_1.callback, eventName = event_1.eventName;\r\n                    google.visualization.events.removeListener(control, eventName, callback);\r\n                    google.visualization.events.addListener(control, eventName, function () {\r\n                        var args = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            args[_i] = arguments[_i];\r\n                        }\r\n                        callback({\r\n                            chartWrapper: googleChartWrapper,\r\n                            controlWrapper: control,\r\n                            props: _this.props,\r\n                            google: google,\r\n                            eventArgs: args\r\n                        });\r\n                    });\r\n                };\r\n                for (var _i = 0, controlEvents_1 = controlEvents; _i < controlEvents_1.length; _i++) {\r\n                    var event_1 = controlEvents_1[_i];\r\n                    _loop_2(event_1);\r\n                }\r\n            };\r\n            for (var _i = 0, googleChartControls_1 = googleChartControls; _i < googleChartControls_1.length; _i++) {\r\n                var chartControl = googleChartControls_1[_i];\r\n                _loop_1(chartControl);\r\n            }\r\n            return googleChartControls;\r\n        };\r\n        _this.renderChart = function () {\r\n            var _a = _this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style, className = _a.className, rootProps = _a.rootProps, google = _a.google;\r\n            var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n            return (createElement(\"div\", __assign({ id: _this.getGraphID(), style: divStyle, className: className }, rootProps), _this.state.isReady && _this.state.googleChartWrapper !== null ? (createElement(Fragment, null,\r\n                createElement(GoogleChartDataTable, { googleChartWrapper: _this.state.googleChartWrapper, google: google, googleChartDashboard: _this.state.googleChartDashboard }),\r\n                createElement(GoogleChartEvents, { googleChartWrapper: _this.state.googleChartWrapper, google: google }))) : null));\r\n        };\r\n        _this.renderControl = function (filter) {\r\n            if (filter === void 0) { filter = function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return true;\r\n            }; }\r\n            return _this.state.isReady && _this.state.googleChartControls !== null ? (createElement(Fragment, null, _this.state.googleChartControls\r\n                .filter(function (_a) {\r\n                var controlProp = _a.controlProp, control = _a.control;\r\n                return filter({ control: control, controlProp: controlProp });\r\n            })\r\n                .map(function (_a) {\r\n                var control = _a.control, controlProp = _a.controlProp;\r\n                return (createElement(\"div\", { key: control.getContainerId(), id: control.getContainerId() }));\r\n            }))) : null;\r\n        };\r\n        _this.renderToolBar = function () {\r\n            if (_this.props.toolbarItems === null)\r\n                return null;\r\n            return createElement(\"div\", { ref: _this.toolbar_ref });\r\n        };\r\n        return _this;\r\n    }\r\n    GoogleChart.prototype.componentDidMount = function () {\r\n        var _a = this.props, options = _a.options, google = _a.google, chartType = _a.chartType, chartWrapperParams = _a.chartWrapperParams, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor, getChartWrapper = _a.getChartWrapper;\r\n        var chartConfig = __assign({ chartType: chartType,\r\n            options: options, containerId: this.getGraphID() }, chartWrapperParams);\r\n        var googleChartWrapper = new google.visualization.ChartWrapper(chartConfig);\r\n        googleChartWrapper.setOptions(options);\r\n        getChartWrapper(googleChartWrapper, google);\r\n        var googleChartDashboard = new google.visualization.Dashboard(this.dashboard_ref);\r\n        var googleChartControls = this.addControls(googleChartWrapper, googleChartDashboard);\r\n        if (toolbarItems !== null) {\r\n            google.visualization.drawToolbar(this.toolbar_ref.current, toolbarItems);\r\n        }\r\n        var googleChartEditor = null;\r\n        if (getChartEditor !== null) {\r\n            googleChartEditor = new google.visualization.ChartEditor();\r\n            getChartEditor({\r\n                chartEditor: googleChartEditor,\r\n                chartWrapper: googleChartWrapper,\r\n                google: google\r\n            });\r\n        }\r\n        this.setState({\r\n            googleChartEditor: googleChartEditor,\r\n            googleChartControls: googleChartControls,\r\n            googleChartDashboard: googleChartDashboard,\r\n            googleChartWrapper: googleChartWrapper,\r\n            isReady: true\r\n        });\r\n    };\r\n    GoogleChart.prototype.componentDidUpdate = function () {\r\n        if (this.state.googleChartWrapper === null)\r\n            return;\r\n        if (this.state.googleChartDashboard === null)\r\n            return;\r\n        if (this.state.googleChartControls === null)\r\n            return;\r\n        var controls = this.props.controls;\r\n        for (var i = 0; i < controls.length; i += 1) {\r\n            var _a = controls[i], controlType = _a.controlType, options = _a.options, controlWrapperParams = _a.controlWrapperParams;\r\n            if (controlWrapperParams && \"state\" in controlWrapperParams) {\r\n                this.state.googleChartControls[i].control.setState(controlWrapperParams[\"state\"]);\r\n            }\r\n            this.state.googleChartControls[i].control.setOptions(options);\r\n            this.state.googleChartControls[i].control.setControlType(controlType);\r\n        }\r\n    };\r\n    GoogleChart.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return (this.state.isReady !== nextState.isReady ||\r\n            nextProps.controls !== this.props.controls);\r\n    };\r\n    GoogleChart.prototype.render = function () {\r\n        var _a = this.props, width = _a.width, height = _a.height, options = _a.options, style = _a.style;\r\n        var divStyle = __assign({ height: height || (options && options.height), width: width || (options && options.width) }, style);\r\n        if (this.props.render !== null) {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                createElement(\"div\", { ref: this.toolbar_ref, id: \"toolbar\" }),\r\n                this.props.render({\r\n                    renderChart: this.renderChart,\r\n                    renderControl: this.renderControl,\r\n                    renderToolbar: this.renderToolBar\r\n                })));\r\n        }\r\n        else {\r\n            return (createElement(\"div\", { ref: this.dashboard_ref, style: divStyle },\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition !== \"bottom\";\r\n                }),\r\n                this.renderChart(),\r\n                this.renderControl(function (_a) {\r\n                    var controlProp = _a.controlProp;\r\n                    return controlProp.controlPosition === \"bottom\";\r\n                }),\r\n                this.renderToolBar()));\r\n        }\r\n    };\r\n    return GoogleChart;\r\n}(Component));\n\nvar Chart = (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this._isMounted = false;\r\n        _this.state = {\r\n            loadingStatus: \"loading\",\r\n            google: null\r\n        };\r\n        _this.onLoad = function (google) {\r\n            if (_this.isFullyLoaded(google)) {\r\n                _this.onSuccess(google);\r\n            }\r\n            else {\r\n                var id_1 = setInterval(function () {\r\n                    var google = window.google;\r\n                    if (_this._isMounted) {\r\n                        if (google && _this.isFullyLoaded(google)) {\r\n                            clearInterval(id_1);\r\n                            _this.onSuccess(google);\r\n                        }\r\n                    }\r\n                    else {\r\n                        clearInterval(id_1);\r\n                    }\r\n                }, 1000);\r\n            }\r\n        };\r\n        _this.onSuccess = function (google) {\r\n            _this.setState({\r\n                loadingStatus: \"ready\",\r\n                google: google\r\n            });\r\n        };\r\n        _this.onError = function () {\r\n            _this.setState({\r\n                loadingStatus: \"errored\"\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    Chart.prototype.render = function () {\r\n        var _a = this.props, chartLanguage = _a.chartLanguage, chartPackages = _a.chartPackages, chartVersion = _a.chartVersion, mapsApiKey = _a.mapsApiKey, loader = _a.loader, errorElement = _a.errorElement;\r\n        return (createElement(ContextProvider, { value: this.props },\r\n            this.state.loadingStatus === \"ready\" && this.state.google !== null ? (createElement(GoogleChart, __assign({}, this.props, { google: this.state.google }))) : this.state.loadingStatus === \"errored\" && errorElement ? (errorElement) : (loader),\r\n            createElement(GoogleChartLoader, __assign({}, { chartLanguage: chartLanguage, chartPackages: chartPackages, chartVersion: chartVersion, mapsApiKey: mapsApiKey }, { onLoad: this.onLoad, onError: this.onError }))));\r\n    };\r\n    Chart.prototype.componentDidMount = function () {\r\n        this._isMounted = true;\r\n    };\r\n    Chart.prototype.componentWillUnmount = function () {\r\n        this._isMounted = false;\r\n    };\r\n    Chart.prototype.isFullyLoaded = function (google) {\r\n        var _a = this.props, controls = _a.controls, toolbarItems = _a.toolbarItems, getChartEditor = _a.getChartEditor;\r\n        return (google &&\r\n            google.visualization &&\r\n            google.visualization.ChartWrapper &&\r\n            google.visualization.Dashboard &&\r\n            (!controls || google.visualization.ChartWrapper) &&\r\n            (!getChartEditor || google.visualization.ChartEditor) &&\r\n            (!toolbarItems || google.visualization.drawToolbar));\r\n    };\r\n    Chart.defaultProps = chartDefaultProps;\r\n    return Chart;\r\n}(Component));\n\nexport default Chart;\nexport { Chart };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}