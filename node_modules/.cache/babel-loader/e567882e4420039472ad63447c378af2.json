{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _desc, _value, _class;\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require('prop-types');\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _autobindDecorator = require('autobind-decorator');\nvar _autobindDecorator2 = _interopRequireDefault(_autobindDecorator);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator(target, property, desc) || desc;\n  }, desc);\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n  return desc;\n}\n\n/**\n * @ignore\n */\nvar Track = (_class = function (_React$Component) {\n  _inherits(Track, _React$Component);\n  _createClass(Track, null, [{\n    key: 'propTypes',\n    /**\n     * @override\n     * @return {Object}\n     * @property {Function} children\n     * @property {Function} classNames\n     * @property {Boolean} draggableTrack\n     * @property {Function} onTrackDrag\n     * @property {Function} onTrackMouseDown\n     * @property {Function} percentages\n     */\n    get: function get() {\n      return {\n        children: _propTypes2.default.node.isRequired,\n        classNames: _propTypes2.default.objectOf(_propTypes2.default.string).isRequired,\n        draggableTrack: _propTypes2.default.bool,\n        onTrackDrag: _propTypes2.default.func,\n        onTrackMouseDown: _propTypes2.default.func.isRequired,\n        percentages: _propTypes2.default.objectOf(_propTypes2.default.number).isRequired\n      };\n    }\n\n    /**\n     * @param {Object} props\n     * @param {InputRangeClassNames} props.classNames\n     * @param {Boolean} props.draggableTrack\n     * @param {Function} props.onTrackDrag\n     * @param {Function} props.onTrackMouseDown\n     * @param {number} props.percentages\n     */\n  }]);\n\n  function Track(props) {\n    _classCallCheck(this, Track);\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    var _this = _possibleConstructorReturn(this, (Track.__proto__ || Object.getPrototypeOf(Track)).call(this, props));\n    _this.node = null;\n    _this.trackDragEvent = null;\n    return _this;\n  }\n\n  /**\n   * @private\n   * @return {ClientRect}\n   */\n\n  _createClass(Track, [{\n    key: 'getClientRect',\n    value: function getClientRect() {\n      return this.node.getBoundingClientRect();\n    }\n\n    /**\n     * @private\n     * @return {Object} CSS styles\n     */\n  }, {\n    key: 'getActiveTrackStyle',\n    value: function getActiveTrackStyle() {\n      var width = (this.props.percentages.max - this.props.percentages.min) * 100 + '%';\n      var left = this.props.percentages.min * 100 + '%';\n      return {\n        left: left,\n        width: width\n      };\n    }\n\n    /**\n     * Listen to mousemove event\n     * @private\n     * @return {void}\n     */\n  }, {\n    key: 'addDocumentMouseMoveListener',\n    value: function addDocumentMouseMoveListener() {\n      this.removeDocumentMouseMoveListener();\n      this.node.ownerDocument.addEventListener('mousemove', this.handleMouseMove);\n    }\n\n    /**\n     * Listen to mouseup event\n     * @private\n     * @return {void}\n     */\n  }, {\n    key: 'addDocumentMouseUpListener',\n    value: function addDocumentMouseUpListener() {\n      this.removeDocumentMouseUpListener();\n      this.node.ownerDocument.addEventListener('mouseup', this.handleMouseUp);\n    }\n\n    /**\n     * @private\n     * @return {void}\n     */\n  }, {\n    key: 'removeDocumentMouseMoveListener',\n    value: function removeDocumentMouseMoveListener() {\n      this.node.ownerDocument.removeEventListener('mousemove', this.handleMouseMove);\n    }\n\n    /**\n     * @private\n     * @return {void}\n     */\n  }, {\n    key: 'removeDocumentMouseUpListener',\n    value: function removeDocumentMouseUpListener() {\n      this.node.ownerDocument.removeEventListener('mouseup', this.handleMouseUp);\n    }\n\n    /**\n     * @private\n     * @param {SyntheticEvent} event\n     * @return {void}\n     */\n  }, {\n    key: 'handleMouseMove',\n    value: function handleMouseMove(event) {\n      if (!this.props.draggableTrack) {\n        return;\n      }\n      if (this.trackDragEvent !== null) {\n        this.props.onTrackDrag(event, this.trackDragEvent);\n      }\n      this.trackDragEvent = event;\n    }\n\n    /**\n     * @private\n     * @return {void}\n     */\n  }, {\n    key: 'handleMouseUp',\n    value: function handleMouseUp() {\n      if (!this.props.draggableTrack) {\n        return;\n      }\n      this.removeDocumentMouseMoveListener();\n      this.removeDocumentMouseUpListener();\n      this.trackDragEvent = null;\n    }\n\n    /**\n     * @private\n     * @param {SyntheticEvent} event - User event\n     */\n  }, {\n    key: 'handleMouseDown',\n    value: function handleMouseDown(event) {\n      var clientX = event.touches ? event.touches[0].clientX : event.clientX;\n      var trackClientRect = this.getClientRect();\n      var position = {\n        x: clientX - trackClientRect.left,\n        y: 0\n      };\n      this.props.onTrackMouseDown(event, position);\n      if (this.props.draggableTrack) {\n        this.addDocumentMouseMoveListener();\n        this.addDocumentMouseUpListener();\n      }\n    }\n\n    /**\n     * @private\n     * @param {SyntheticEvent} event - User event\n     */\n  }, {\n    key: 'handleTouchStart',\n    value: function handleTouchStart(event) {\n      event.preventDefault();\n      this.handleMouseDown(event);\n    }\n\n    /**\n     * @override\n     * @return {JSX.Element}\n     */\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n      var activeTrackStyle = this.getActiveTrackStyle();\n      return _react2.default.createElement('div', {\n        className: this.props.classNames.track,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart,\n        ref: function ref(node) {\n          _this2.node = node;\n        }\n      }, _react2.default.createElement('div', {\n        style: activeTrackStyle,\n        className: this.props.classNames.activeTrack\n      }), this.props.children);\n    }\n  }]);\n  return Track;\n}(_react2.default.Component), (_applyDecoratedDescriptor(_class.prototype, 'handleMouseMove', [_autobindDecorator2.default], Object.getOwnPropertyDescriptor(_class.prototype, 'handleMouseMove'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'handleMouseUp', [_autobindDecorator2.default], Object.getOwnPropertyDescriptor(_class.prototype, 'handleMouseUp'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'handleMouseDown', [_autobindDecorator2.default], Object.getOwnPropertyDescriptor(_class.prototype, 'handleMouseDown'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'handleTouchStart', [_autobindDecorator2.default], Object.getOwnPropertyDescriptor(_class.prototype, 'handleTouchStart'), _class.prototype)), _class);\nexports.default = Track;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["../../../src/js/input-range/track.jsx"],"names":["Track","Component","children","node","isRequired","classNames","objectOf","string","draggableTrack","bool","onTrackDrag","func","onTrackMouseDown","percentages","number","props","trackDragEvent","getBoundingClientRect","width","max","min","left","removeDocumentMouseMoveListener","ownerDocument","addEventListener","handleMouseMove","removeDocumentMouseUpListener","handleMouseUp","removeEventListener","event","clientX","touches","trackClientRect","getClientRect","position","x","y","addDocumentMouseMoveListener","addDocumentMouseUpListener","preventDefault","handleMouseDown","activeTrackStyle","getActiveTrackStyle","track","handleTouchStart"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'autobind-decorator';\n\n/**\n * @ignore\n */\nexport default class Track extends React.Component {\n  /**\n   * @override\n   * @return {Object}\n   * @property {Function} children\n   * @property {Function} classNames\n   * @property {Boolean} draggableTrack\n   * @property {Function} onTrackDrag\n   * @property {Function} onTrackMouseDown\n   * @property {Function} percentages\n   */\n  static get propTypes() {\n    return {\n      children: PropTypes.node.isRequired,\n      classNames: PropTypes.objectOf(PropTypes.string).isRequired,\n      draggableTrack: PropTypes.bool,\n      onTrackDrag: PropTypes.func,\n      onTrackMouseDown: PropTypes.func.isRequired,\n      percentages: PropTypes.objectOf(PropTypes.number).isRequired,\n    };\n  }\n\n  /**\n   * @param {Object} props\n   * @param {InputRangeClassNames} props.classNames\n   * @param {Boolean} props.draggableTrack\n   * @param {Function} props.onTrackDrag\n   * @param {Function} props.onTrackMouseDown\n   * @param {number} props.percentages\n   */\n  constructor(props) {\n    super(props);\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    this.node = null;\n    this.trackDragEvent = null;\n  }\n\n  /**\n   * @private\n   * @return {ClientRect}\n   */\n  getClientRect() {\n    return this.node.getBoundingClientRect();\n  }\n\n  /**\n   * @private\n   * @return {Object} CSS styles\n   */\n  getActiveTrackStyle() {\n    const width = `${(this.props.percentages.max - this.props.percentages.min) * 100}%`;\n    const left = `${this.props.percentages.min * 100}%`;\n\n    return { left, width };\n  }\n\n  /**\n   * Listen to mousemove event\n   * @private\n   * @return {void}\n   */\n  addDocumentMouseMoveListener() {\n    this.removeDocumentMouseMoveListener();\n    this.node.ownerDocument.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  /**\n   * Listen to mouseup event\n   * @private\n   * @return {void}\n   */\n  addDocumentMouseUpListener() {\n    this.removeDocumentMouseUpListener();\n    this.node.ownerDocument.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentMouseMoveListener() {\n    this.node.ownerDocument.removeEventListener('mousemove', this.handleMouseMove);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentMouseUpListener() {\n    this.node.ownerDocument.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleMouseMove(event) {\n    if (!this.props.draggableTrack) {\n      return;\n    }\n\n    if (this.trackDragEvent !== null) {\n      this.props.onTrackDrag(event, this.trackDragEvent);\n    }\n\n    this.trackDragEvent = event;\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleMouseUp() {\n    if (!this.props.draggableTrack) {\n      return;\n    }\n\n    this.removeDocumentMouseMoveListener();\n    this.removeDocumentMouseUpListener();\n    this.trackDragEvent = null;\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event - User event\n   */\n  @autobind\n  handleMouseDown(event) {\n    const clientX = event.touches ? event.touches[0].clientX : event.clientX;\n    const trackClientRect = this.getClientRect();\n    const position = {\n      x: clientX - trackClientRect.left,\n      y: 0,\n    };\n\n    this.props.onTrackMouseDown(event, position);\n\n    if (this.props.draggableTrack) {\n      this.addDocumentMouseMoveListener();\n      this.addDocumentMouseUpListener();\n    }\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event - User event\n   */\n  @autobind\n  handleTouchStart(event) {\n    event.preventDefault();\n\n    this.handleMouseDown(event);\n  }\n\n  /**\n   * @override\n   * @return {JSX.Element}\n   */\n  render() {\n    const activeTrackStyle = this.getActiveTrackStyle();\n\n    return (\n      <div\n        className={this.props.classNames.track}\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleTouchStart}\n        ref={(node) => { this.node = node; }}>\n        <div\n          style={activeTrackStyle}\n          className={this.props.classNames.activeTrack} />\n        {this.props.children}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"script"}