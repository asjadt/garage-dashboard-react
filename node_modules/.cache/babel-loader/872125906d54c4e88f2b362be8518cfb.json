{"ast":null,"code":"export const getCartTotal = cartItems => {\n  var total = 0;\n  var items = 0;\n  for (var i = 0; i < cartItems.length; i++) {\n    items = cartItems[i].qty * cartItems[i].price;\n    total = total + items;\n  }\n  return total;\n};\nexport const getBrands = products => {\n  var uniqueBrands = [];\n  products.forEach((product, index) => {\n    if (product.tags) {\n      product.tags.forEach(tag => {\n        if (uniqueBrands.indexOf(tag) === -1) {\n          uniqueBrands.push(tag);\n        }\n      });\n    }\n  });\n  return uniqueBrands;\n};\nexport const getColors = products => {\n  var uniqueColors = [];\n  products.forEach((product, index) => {\n    if (product.colors) {\n      product.colors.forEach(color => {\n        if (uniqueColors.indexOf(color) === -1) {\n          uniqueColors.push(color);\n        }\n      });\n    }\n  });\n  return uniqueColors;\n};\nexport const getMinMaxPrice = products => {\n  let min = 100,\n    max = 1000;\n  products.forEach((product, index) => {\n    let v = product.price;\n    min = v < min ? v : min;\n    max = v > max ? v : max;\n  });\n  return {\n    'min': min,\n    'max': max\n  };\n};\nexport const getVisibleproducts = (data, _ref) => {\n  let {\n    brand,\n    color,\n    value,\n    sortBy,\n    searchBy\n  } = _ref;\n  return data.filter(product => {\n    let brandMatch;\n    if (product.tags) brandMatch = product.tags.some(tag => brand.includes(tag));else brandMatch = true;\n    let colorMatch;\n    if (color && product.colors) {\n      colorMatch = product.colors.includes(color);\n    } else {\n      colorMatch = true;\n    }\n    const startPriceMatch = typeof value.min !== 'number' || value.min <= product.price;\n    const endPriceMatch = typeof value.max !== 'number' || product.price <= value.max;\n    const searchByName = product.name.toLowerCase().indexOf(searchBy) > -1;\n    return brandMatch && colorMatch && startPriceMatch && endPriceMatch && searchByName;\n  }).sort((product1, product2) => {\n    if (sortBy === 'HighestPrices') {\n      return product2.price < product1.price ? -1 : 1;\n    } else if (sortBy === 'LowestPrices') {\n      return product2.price > product1.price ? -1 : 1;\n    } else {\n      return product2.price !== product1.price ? 1 : 1;\n    }\n  });\n};","map":{"version":3,"names":["getCartTotal","cartItems","total","items","i","length","qty","price","getBrands","products","uniqueBrands","forEach","product","index","tags","tag","indexOf","push","getColors","uniqueColors","colors","color","getMinMaxPrice","min","max","v","getVisibleproducts","data","brand","value","sortBy","searchBy","filter","brandMatch","some","includes","colorMatch","startPriceMatch","endPriceMatch","searchByName","name","toLowerCase","sort","product1","product2"],"sources":["/home/rifat/uk client/garage/garage-frontend-2/theme/src/services/ecommerce.service.js"],"sourcesContent":["export const getCartTotal = cartItems => {\n    var total = 0;\n    var items = 0;\n    for(var i=0; i<cartItems.length; i++){\n        items = cartItems[i].qty * cartItems[i].price \n        total = total + items;\n    }\n    return total;\n}\n\nexport const getBrands = (products) => {\n    \n    var uniqueBrands = [];\n    products.forEach((product, index) => {\n        if (product.tags) {\n            product.tags.forEach((tag) => {\n                if (uniqueBrands.indexOf(tag) === -1) {\n                    uniqueBrands.push(tag);\n                }\n            })\n        }\n    })\n    return uniqueBrands;\n}\n\n\nexport const getColors = (products) => {\n    var uniqueColors = [];\n    products.forEach((product, index) => {\n        if(product.colors) {\n            product.colors.forEach((color) => {\n                if (uniqueColors.indexOf(color) === -1) {\n                    uniqueColors.push(color);\n                }\n            })\n        }\n    })\n    return uniqueColors;\n}\n\nexport const getMinMaxPrice = (products) => {\n    \n    let min = 100, max = 1000;\n\n    products.forEach((product, index) => {\n        let v = product.price;\n        min = (v < min) ? v : min;\n        max = (v > max) ? v : max;\n    })\n\n    return {'min':min, 'max':max};\n}\n\nexport const getVisibleproducts = (data, {brand,color, value,sortBy,searchBy}) => {\n    return data.filter(product => {\n        \n        let brandMatch;\n        if(product.tags)\n            brandMatch = product.tags.some(tag => brand.includes(tag))\n        else\n            brandMatch = true;\n\n\n        let colorMatch;\n        if(color && product.colors) {\n            colorMatch = product.colors.includes(color)\n        }else{\n            colorMatch = true;\n        }\n\n        const startPriceMatch = typeof value.min !== 'number' || value.min <= product.price;\n        const endPriceMatch = typeof value.max !== 'number' || product.price <= value.max;\n\n        const searchByName = (product.name.toLowerCase().indexOf(searchBy) > -1)\n\n        return brandMatch  && colorMatch  && startPriceMatch && endPriceMatch && searchByName;\n    }).sort((product1, product2) => {\n        \n        if (sortBy === 'HighestPrices') {\n            return product2.price < product1.price ? -1 : 1;\n        }\n        else if (sortBy === 'LowestPrices'){\n            return product2.price > product1.price ? -1 : 1;\n        } \n        else{\n            return product2.price !== product1.price ? 1 : 1;\n        }\n    });\n    \n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}