{"ast":null,"code":"/*!\n * chartjs-plugin-datalabels v0.7.0\n * https://chartjs-plugin-datalabels.netlify.com\n * (c) 2019 Chart.js Contributors\n * Released under the MIT license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) : typeof define === 'function' && define.amd ? define(['chart.js'], factory) : (global = global || self, global.ChartDataLabels = factory(global.Chart));\n})(this, function (Chart) {\n  'use strict';\n\n  Chart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n  var helpers = Chart.helpers;\n  var devicePixelRatio = function () {\n    if (typeof window !== 'undefined') {\n      if (window.devicePixelRatio) {\n        return window.devicePixelRatio;\n      }\n\n      // devicePixelRatio is undefined on IE10\n      // https://stackoverflow.com/a/20204180/8837887\n      // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n      var screen = window.screen;\n      if (screen) {\n        return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n      }\n    }\n    return 1;\n  }();\n  var utils = {\n    // @todo move this in Chart.helpers.toTextLines\n    toTextLines: function (inputs) {\n      var lines = [];\n      var input;\n      inputs = [].concat(inputs);\n      while (inputs.length) {\n        input = inputs.pop();\n        if (typeof input === 'string') {\n          lines.unshift.apply(lines, input.split('\\n'));\n        } else if (Array.isArray(input)) {\n          inputs.push.apply(inputs, input);\n        } else if (!helpers.isNullOrUndef(inputs)) {\n          lines.unshift('' + input);\n        }\n      }\n      return lines;\n    },\n    // @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\n    // @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\n    toFontString: function (font) {\n      if (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\n        return null;\n      }\n      return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n    },\n    // @todo move this in Chart.helpers.canvas.textSize\n    // @todo cache calls of measureText if font doesn't change?!\n    textSize: function (ctx, lines, font) {\n      var items = [].concat(lines);\n      var ilen = items.length;\n      var prev = ctx.font;\n      var width = 0;\n      var i;\n      ctx.font = font.string;\n      for (i = 0; i < ilen; ++i) {\n        width = Math.max(ctx.measureText(items[i]).width, width);\n      }\n      ctx.font = prev;\n      return {\n        height: ilen * font.lineHeight,\n        width: width\n      };\n    },\n    // @todo move this method in Chart.helpers.options.toFont\n    parseFont: function (value) {\n      var global = Chart.defaults.global;\n      var size = helpers.valueOrDefault(value.size, global.defaultFontSize);\n      var font = {\n        family: helpers.valueOrDefault(value.family, global.defaultFontFamily),\n        lineHeight: helpers.options.toLineHeight(value.lineHeight, size),\n        size: size,\n        style: helpers.valueOrDefault(value.style, global.defaultFontStyle),\n        weight: helpers.valueOrDefault(value.weight, null),\n        string: ''\n      };\n      font.string = utils.toFontString(font);\n      return font;\n    },\n    /**\n     * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n     * @todo move this method in Chart.helpers.bound\n     * https://doc.qt.io/qt-5/qtglobal.html#qBound\n     */\n    bound: function (min, value, max) {\n      return Math.max(min, Math.min(value, max));\n    },\n    /**\n     * Returns an array of pair [value, state] where state is:\n     * * -1: value is only in a0 (removed)\n     * *  1: value is only in a1 (added)\n     */\n    arrayDiff: function (a0, a1) {\n      var prev = a0.slice();\n      var updates = [];\n      var i, j, ilen, v;\n      for (i = 0, ilen = a1.length; i < ilen; ++i) {\n        v = a1[i];\n        j = prev.indexOf(v);\n        if (j === -1) {\n          updates.push([v, 1]);\n        } else {\n          prev.splice(j, 1);\n        }\n      }\n      for (i = 0, ilen = prev.length; i < ilen; ++i) {\n        updates.push([prev[i], -1]);\n      }\n      return updates;\n    },\n    /**\n     * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n     */\n    rasterize: function (v) {\n      return Math.round(v * devicePixelRatio) / devicePixelRatio;\n    }\n  };\n  function orient(point, origin) {\n    var x0 = origin.x;\n    var y0 = origin.y;\n    if (x0 === null) {\n      return {\n        x: 0,\n        y: -1\n      };\n    }\n    if (y0 === null) {\n      return {\n        x: 1,\n        y: 0\n      };\n    }\n    var dx = point.x - x0;\n    var dy = point.y - y0;\n    var ln = Math.sqrt(dx * dx + dy * dy);\n    return {\n      x: ln ? dx / ln : 0,\n      y: ln ? dy / ln : -1\n    };\n  }\n  function aligned(x, y, vx, vy, align) {\n    switch (align) {\n      case 'center':\n        vx = vy = 0;\n        break;\n      case 'bottom':\n        vx = 0;\n        vy = 1;\n        break;\n      case 'right':\n        vx = 1;\n        vy = 0;\n        break;\n      case 'left':\n        vx = -1;\n        vy = 0;\n        break;\n      case 'top':\n        vx = 0;\n        vy = -1;\n        break;\n      case 'start':\n        vx = -vx;\n        vy = -vy;\n        break;\n      case 'end':\n        // keep natural orientation\n        break;\n      default:\n        // clockwise rotation (in degree)\n        align *= Math.PI / 180;\n        vx = Math.cos(align);\n        vy = Math.sin(align);\n        break;\n    }\n    return {\n      x: x,\n      y: y,\n      vx: vx,\n      vy: vy\n    };\n  }\n\n  // Line clipping (Cohen–Sutherland algorithm)\n  // https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\n\n  var R_INSIDE = 0;\n  var R_LEFT = 1;\n  var R_RIGHT = 2;\n  var R_BOTTOM = 4;\n  var R_TOP = 8;\n  function region(x, y, rect) {\n    var res = R_INSIDE;\n    if (x < rect.left) {\n      res |= R_LEFT;\n    } else if (x > rect.right) {\n      res |= R_RIGHT;\n    }\n    if (y < rect.top) {\n      res |= R_TOP;\n    } else if (y > rect.bottom) {\n      res |= R_BOTTOM;\n    }\n    return res;\n  }\n  function clipped(segment, area) {\n    var x0 = segment.x0;\n    var y0 = segment.y0;\n    var x1 = segment.x1;\n    var y1 = segment.y1;\n    var r0 = region(x0, y0, area);\n    var r1 = region(x1, y1, area);\n    var r, x, y;\n\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      if (!(r0 | r1) || r0 & r1) {\n        // both points inside or on the same side: no clipping\n        break;\n      }\n\n      // at least one point is outside\n      r = r0 || r1;\n      if (r & R_TOP) {\n        x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n        y = area.top;\n      } else if (r & R_BOTTOM) {\n        x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n        y = area.bottom;\n      } else if (r & R_RIGHT) {\n        y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n        x = area.right;\n      } else if (r & R_LEFT) {\n        y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n        x = area.left;\n      }\n      if (r === r0) {\n        x0 = x;\n        y0 = y;\n        r0 = region(x0, y0, area);\n      } else {\n        x1 = x;\n        y1 = y;\n        r1 = region(x1, y1, area);\n      }\n    }\n    return {\n      x0: x0,\n      x1: x1,\n      y0: y0,\n      y1: y1\n    };\n  }\n  function compute(range, config) {\n    var anchor = config.anchor;\n    var segment = range;\n    var x, y;\n    if (config.clamp) {\n      segment = clipped(segment, config.area);\n    }\n    if (anchor === 'start') {\n      x = segment.x0;\n      y = segment.y0;\n    } else if (anchor === 'end') {\n      x = segment.x1;\n      y = segment.y1;\n    } else {\n      x = (segment.x0 + segment.x1) / 2;\n      y = (segment.y0 + segment.y1) / 2;\n    }\n    return aligned(x, y, range.vx, range.vy, config.align);\n  }\n  var positioners = {\n    arc: function (vm, config) {\n      var angle = (vm.startAngle + vm.endAngle) / 2;\n      var vx = Math.cos(angle);\n      var vy = Math.sin(angle);\n      var r0 = vm.innerRadius;\n      var r1 = vm.outerRadius;\n      return compute({\n        x0: vm.x + vx * r0,\n        y0: vm.y + vy * r0,\n        x1: vm.x + vx * r1,\n        y1: vm.y + vy * r1,\n        vx: vx,\n        vy: vy\n      }, config);\n    },\n    point: function (vm, config) {\n      var v = orient(vm, config.origin);\n      var rx = v.x * vm.radius;\n      var ry = v.y * vm.radius;\n      return compute({\n        x0: vm.x - rx,\n        y0: vm.y - ry,\n        x1: vm.x + rx,\n        y1: vm.y + ry,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    },\n    rect: function (vm, config) {\n      var v = orient(vm, config.origin);\n      var x = vm.x;\n      var y = vm.y;\n      var sx = 0;\n      var sy = 0;\n      if (vm.horizontal) {\n        x = Math.min(vm.x, vm.base);\n        sx = Math.abs(vm.base - vm.x);\n      } else {\n        y = Math.min(vm.y, vm.base);\n        sy = Math.abs(vm.base - vm.y);\n      }\n      return compute({\n        x0: x,\n        y0: y + sy,\n        x1: x + sx,\n        y1: y,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    },\n    fallback: function (vm, config) {\n      var v = orient(vm, config.origin);\n      return compute({\n        x0: vm.x,\n        y0: vm.y,\n        x1: vm.x,\n        y1: vm.y,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    }\n  };\n  var helpers$1 = Chart.helpers;\n  var rasterize = utils.rasterize;\n  function boundingRects(model) {\n    var borderWidth = model.borderWidth || 0;\n    var padding = model.padding;\n    var th = model.size.height;\n    var tw = model.size.width;\n    var tx = -tw / 2;\n    var ty = -th / 2;\n    return {\n      frame: {\n        x: tx - padding.left - borderWidth,\n        y: ty - padding.top - borderWidth,\n        w: tw + padding.width + borderWidth * 2,\n        h: th + padding.height + borderWidth * 2\n      },\n      text: {\n        x: tx,\n        y: ty,\n        w: tw,\n        h: th\n      }\n    };\n  }\n  function getScaleOrigin(el) {\n    var horizontal = el._model.horizontal;\n    var scale = el._scale || horizontal && el._xScale || el._yScale;\n    if (!scale) {\n      return null;\n    }\n    if (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n      return {\n        x: scale.xCenter,\n        y: scale.yCenter\n      };\n    }\n    var pixel = scale.getBasePixel();\n    return horizontal ? {\n      x: pixel,\n      y: null\n    } : {\n      x: null,\n      y: pixel\n    };\n  }\n  function getPositioner(el) {\n    if (el instanceof Chart.elements.Arc) {\n      return positioners.arc;\n    }\n    if (el instanceof Chart.elements.Point) {\n      return positioners.point;\n    }\n    if (el instanceof Chart.elements.Rectangle) {\n      return positioners.rect;\n    }\n    return positioners.fallback;\n  }\n  function drawFrame(ctx, rect, model) {\n    var bgColor = model.backgroundColor;\n    var borderColor = model.borderColor;\n    var borderWidth = model.borderWidth;\n    if (!bgColor && (!borderColor || !borderWidth)) {\n      return;\n    }\n    ctx.beginPath();\n    helpers$1.canvas.roundedRect(ctx, rasterize(rect.x) + borderWidth / 2, rasterize(rect.y) + borderWidth / 2, rasterize(rect.w) - borderWidth, rasterize(rect.h) - borderWidth, model.borderRadius);\n    ctx.closePath();\n    if (bgColor) {\n      ctx.fillStyle = bgColor;\n      ctx.fill();\n    }\n    if (borderColor && borderWidth) {\n      ctx.strokeStyle = borderColor;\n      ctx.lineWidth = borderWidth;\n      ctx.lineJoin = 'miter';\n      ctx.stroke();\n    }\n  }\n  function textGeometry(rect, align, font) {\n    var h = font.lineHeight;\n    var w = rect.w;\n    var x = rect.x;\n    var y = rect.y + h / 2;\n    if (align === 'center') {\n      x += w / 2;\n    } else if (align === 'end' || align === 'right') {\n      x += w;\n    }\n    return {\n      h: h,\n      w: w,\n      x: x,\n      y: y\n    };\n  }\n  function drawTextLine(ctx, text, cfg) {\n    var shadow = ctx.shadowBlur;\n    var stroked = cfg.stroked;\n    var x = rasterize(cfg.x);\n    var y = rasterize(cfg.y);\n    var w = rasterize(cfg.w);\n    if (stroked) {\n      ctx.strokeText(text, x, y, w);\n    }\n    if (cfg.filled) {\n      if (shadow && stroked) {\n        // Prevent drawing shadow on both the text stroke and fill, so\n        // if the text is stroked, remove the shadow for the text fill.\n        ctx.shadowBlur = 0;\n      }\n      ctx.fillText(text, x, y, w);\n      if (shadow && stroked) {\n        ctx.shadowBlur = shadow;\n      }\n    }\n  }\n  function drawText(ctx, lines, rect, model) {\n    var align = model.textAlign;\n    var color = model.color;\n    var filled = !!color;\n    var font = model.font;\n    var ilen = lines.length;\n    var strokeColor = model.textStrokeColor;\n    var strokeWidth = model.textStrokeWidth;\n    var stroked = strokeColor && strokeWidth;\n    var i;\n    if (!ilen || !filled && !stroked) {\n      return;\n    }\n\n    // Adjust coordinates based on text alignment and line height\n    rect = textGeometry(rect, align, font);\n    ctx.font = font.string;\n    ctx.textAlign = align;\n    ctx.textBaseline = 'middle';\n    ctx.shadowBlur = model.textShadowBlur;\n    ctx.shadowColor = model.textShadowColor;\n    if (filled) {\n      ctx.fillStyle = color;\n    }\n    if (stroked) {\n      ctx.lineJoin = 'round';\n      ctx.lineWidth = strokeWidth;\n      ctx.strokeStyle = strokeColor;\n    }\n    for (i = 0, ilen = lines.length; i < ilen; ++i) {\n      drawTextLine(ctx, lines[i], {\n        stroked: stroked,\n        filled: filled,\n        w: rect.w,\n        x: rect.x,\n        y: rect.y + rect.h * i\n      });\n    }\n  }\n  var Label = function (config, ctx, el, index) {\n    var me = this;\n    me._config = config;\n    me._index = index;\n    me._model = null;\n    me._rects = null;\n    me._ctx = ctx;\n    me._el = el;\n  };\n  helpers$1.extend(Label.prototype, {\n    /**\n     * @private\n     */\n    _modelize: function (display, lines, config, context) {\n      var me = this;\n      var index = me._index;\n      var resolve = helpers$1.options.resolve;\n      var font = utils.parseFont(resolve([config.font, {}], context, index));\n      var color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\n      return {\n        align: resolve([config.align, 'center'], context, index),\n        anchor: resolve([config.anchor, 'center'], context, index),\n        area: context.chart.chartArea,\n        backgroundColor: resolve([config.backgroundColor, null], context, index),\n        borderColor: resolve([config.borderColor, null], context, index),\n        borderRadius: resolve([config.borderRadius, 0], context, index),\n        borderWidth: resolve([config.borderWidth, 0], context, index),\n        clamp: resolve([config.clamp, false], context, index),\n        clip: resolve([config.clip, false], context, index),\n        color: color,\n        display: display,\n        font: font,\n        lines: lines,\n        offset: resolve([config.offset, 0], context, index),\n        opacity: resolve([config.opacity, 1], context, index),\n        origin: getScaleOrigin(me._el),\n        padding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\n        positioner: getPositioner(me._el),\n        rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n        size: utils.textSize(me._ctx, lines, font),\n        textAlign: resolve([config.textAlign, 'start'], context, index),\n        textShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n        textShadowColor: resolve([config.textShadowColor, color], context, index),\n        textStrokeColor: resolve([config.textStrokeColor, color], context, index),\n        textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n      };\n    },\n    update: function (context) {\n      var me = this;\n      var model = null;\n      var rects = null;\n      var index = me._index;\n      var config = me._config;\n      var value, label, lines;\n\n      // We first resolve the display option (separately) to avoid computing\n      // other options in case the label is hidden (i.e. display: false).\n      var display = helpers$1.options.resolve([config.display, true], context, index);\n      if (display) {\n        value = context.dataset.data[index];\n        label = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\n        lines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\n        if (lines.length) {\n          model = me._modelize(display, lines, config, context);\n          rects = boundingRects(model);\n        }\n      }\n      me._model = model;\n      me._rects = rects;\n    },\n    geometry: function () {\n      return this._rects ? this._rects.frame : {};\n    },\n    rotation: function () {\n      return this._model ? this._model.rotation : 0;\n    },\n    visible: function () {\n      return this._model && this._model.opacity;\n    },\n    model: function () {\n      return this._model;\n    },\n    draw: function (chart, center) {\n      var me = this;\n      var ctx = chart.ctx;\n      var model = me._model;\n      var rects = me._rects;\n      var area;\n      if (!this.visible()) {\n        return;\n      }\n      ctx.save();\n      if (model.clip) {\n        area = model.area;\n        ctx.beginPath();\n        ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n        ctx.clip();\n      }\n      ctx.globalAlpha = utils.bound(0, model.opacity, 1);\n      ctx.translate(rasterize(center.x), rasterize(center.y));\n      ctx.rotate(model.rotation);\n      drawFrame(ctx, rects.frame, model);\n      drawText(ctx, model.lines, rects.text, model);\n      ctx.restore();\n    }\n  });\n  var helpers$2 = Chart.helpers;\n  var MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\n  var MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991; // eslint-disable-line es/no-number-maxsafeinteger\n\n  function rotated(point, center, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var cx = center.x;\n    var cy = center.y;\n    return {\n      x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n      y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n    };\n  }\n  function projected(points, axis) {\n    var min = MAX_INTEGER;\n    var max = MIN_INTEGER;\n    var origin = axis.origin;\n    var i, pt, vx, vy, dp;\n    for (i = 0; i < points.length; ++i) {\n      pt = points[i];\n      vx = pt.x - origin.x;\n      vy = pt.y - origin.y;\n      dp = axis.vx * vx + axis.vy * vy;\n      min = Math.min(min, dp);\n      max = Math.max(max, dp);\n    }\n    return {\n      min: min,\n      max: max\n    };\n  }\n  function toAxis(p0, p1) {\n    var vx = p1.x - p0.x;\n    var vy = p1.y - p0.y;\n    var ln = Math.sqrt(vx * vx + vy * vy);\n    return {\n      vx: (p1.x - p0.x) / ln,\n      vy: (p1.y - p0.y) / ln,\n      origin: p0,\n      ln: ln\n    };\n  }\n  var HitBox = function () {\n    this._rotation = 0;\n    this._rect = {\n      x: 0,\n      y: 0,\n      w: 0,\n      h: 0\n    };\n  };\n  helpers$2.extend(HitBox.prototype, {\n    center: function () {\n      var r = this._rect;\n      return {\n        x: r.x + r.w / 2,\n        y: r.y + r.h / 2\n      };\n    },\n    update: function (center, rect, rotation) {\n      this._rotation = rotation;\n      this._rect = {\n        x: rect.x + center.x,\n        y: rect.y + center.y,\n        w: rect.w,\n        h: rect.h\n      };\n    },\n    contains: function (point) {\n      var me = this;\n      var margin = 1;\n      var rect = me._rect;\n      point = rotated(point, me.center(), -me._rotation);\n      return !(point.x < rect.x - margin || point.y < rect.y - margin || point.x > rect.x + rect.w + margin * 2 || point.y > rect.y + rect.h + margin * 2);\n    },\n    // Separating Axis Theorem\n    // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n    intersects: function (other) {\n      var r0 = this._points();\n      var r1 = other._points();\n      var axes = [toAxis(r0[0], r0[1]), toAxis(r0[0], r0[3])];\n      var i, pr0, pr1;\n      if (this._rotation !== other._rotation) {\n        // Only separate with r1 axis if the rotation is different,\n        // else it's enough to separate r0 and r1 with r0 axis only!\n        axes.push(toAxis(r1[0], r1[1]), toAxis(r1[0], r1[3]));\n      }\n      for (i = 0; i < axes.length; ++i) {\n        pr0 = projected(r0, axes[i]);\n        pr1 = projected(r1, axes[i]);\n        if (pr0.max < pr1.min || pr1.max < pr0.min) {\n          return false;\n        }\n      }\n      return true;\n    },\n    /**\n     * @private\n     */\n    _points: function () {\n      var me = this;\n      var rect = me._rect;\n      var angle = me._rotation;\n      var center = me.center();\n      return [rotated({\n        x: rect.x,\n        y: rect.y\n      }, center, angle), rotated({\n        x: rect.x + rect.w,\n        y: rect.y\n      }, center, angle), rotated({\n        x: rect.x + rect.w,\n        y: rect.y + rect.h\n      }, center, angle), rotated({\n        x: rect.x,\n        y: rect.y + rect.h\n      }, center, angle)];\n    }\n  });\n  function coordinates(view, model, geometry) {\n    var point = model.positioner(view, model);\n    var vx = point.vx;\n    var vy = point.vy;\n    if (!vx && !vy) {\n      // if aligned center, we don't want to offset the center point\n      return {\n        x: point.x,\n        y: point.y\n      };\n    }\n    var w = geometry.w;\n    var h = geometry.h;\n\n    // take in account the label rotation\n    var rotation = model.rotation;\n    var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n    var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n    // scale the unit vector (vx, vy) to get at least dx or dy equal to\n    // w or h respectively (else we would calculate the distance to the\n    // ellipse inscribed in the bounding rect)\n    var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n    dx *= vx * vs;\n    dy *= vy * vs;\n\n    // finally, include the explicit offset\n    dx += model.offset * vx;\n    dy += model.offset * vy;\n    return {\n      x: point.x + dx,\n      y: point.y + dy\n    };\n  }\n  function collide(labels, collider) {\n    var i, j, s0, s1;\n\n    // IMPORTANT Iterate in the reverse order since items at the end of the\n    // list have an higher weight/priority and thus should be less impacted\n    // by the overlapping strategy.\n\n    for (i = labels.length - 1; i >= 0; --i) {\n      s0 = labels[i].$layout;\n      for (j = i - 1; j >= 0 && s0._visible; --j) {\n        s1 = labels[j].$layout;\n        if (s1._visible && s0._box.intersects(s1._box)) {\n          collider(s0, s1);\n        }\n      }\n    }\n    return labels;\n  }\n  function compute$1(labels) {\n    var i, ilen, label, state, geometry, center;\n\n    // Initialize labels for overlap detection\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      state = label.$layout;\n      if (state._visible) {\n        geometry = label.geometry();\n        center = coordinates(label._el._model, label.model(), geometry);\n        state._box.update(center, geometry, label.rotation());\n      }\n    }\n\n    // Auto hide overlapping labels\n    return collide(labels, function (s0, s1) {\n      var h0 = s0._hidable;\n      var h1 = s1._hidable;\n      if (h0 && h1 || h1) {\n        s1._visible = false;\n      } else if (h0) {\n        s0._visible = false;\n      }\n    });\n  }\n  var layout = {\n    prepare: function (datasets) {\n      var labels = [];\n      var i, j, ilen, jlen, label;\n      for (i = 0, ilen = datasets.length; i < ilen; ++i) {\n        for (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n          label = datasets[i][j];\n          labels.push(label);\n          label.$layout = {\n            _box: new HitBox(),\n            _hidable: false,\n            _visible: true,\n            _set: i,\n            _idx: j\n          };\n        }\n      }\n\n      // TODO New `z` option: labels with a higher z-index are drawn\n      // of top of the ones with a lower index. Lowest z-index labels\n      // are also discarded first when hiding overlapping labels.\n      labels.sort(function (a, b) {\n        var sa = a.$layout;\n        var sb = b.$layout;\n        return sa._idx === sb._idx ? sb._set - sa._set : sb._idx - sa._idx;\n      });\n      this.update(labels);\n      return labels;\n    },\n    update: function (labels) {\n      var dirty = false;\n      var i, ilen, label, model, state;\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        label = labels[i];\n        model = label.model();\n        state = label.$layout;\n        state._hidable = model && model.display === 'auto';\n        state._visible = label.visible();\n        dirty |= state._hidable;\n      }\n      if (dirty) {\n        compute$1(labels);\n      }\n    },\n    lookup: function (labels, point) {\n      var i, state;\n\n      // IMPORTANT Iterate in the reverse order since items at the end of\n      // the list have an higher z-index, thus should be picked first.\n\n      for (i = labels.length - 1; i >= 0; --i) {\n        state = labels[i].$layout;\n        if (state && state._visible && state._box.contains(point)) {\n          return labels[i];\n        }\n      }\n      return null;\n    },\n    draw: function (chart, labels) {\n      var i, ilen, label, state, geometry, center;\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        label = labels[i];\n        state = label.$layout;\n        if (state._visible) {\n          geometry = label.geometry();\n          center = coordinates(label._el._view, label.model(), geometry);\n          state._box.update(center, geometry, label.rotation());\n          label.draw(chart, center);\n        }\n      }\n    }\n  };\n  var helpers$3 = Chart.helpers;\n  var formatter = function (value) {\n    if (helpers$3.isNullOrUndef(value)) {\n      return null;\n    }\n    var label = value;\n    var keys, klen, k;\n    if (helpers$3.isObject(value)) {\n      if (!helpers$3.isNullOrUndef(value.label)) {\n        label = value.label;\n      } else if (!helpers$3.isNullOrUndef(value.r)) {\n        label = value.r;\n      } else {\n        label = '';\n        keys = Object.keys(value);\n        for (k = 0, klen = keys.length; k < klen; ++k) {\n          label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n        }\n      }\n    }\n    return '' + label;\n  };\n\n  /**\n   * IMPORTANT: make sure to also update tests and TypeScript definition\n   * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n   */\n\n  var defaults = {\n    align: 'center',\n    anchor: 'center',\n    backgroundColor: null,\n    borderColor: null,\n    borderRadius: 0,\n    borderWidth: 0,\n    clamp: false,\n    clip: false,\n    color: undefined,\n    display: true,\n    font: {\n      family: undefined,\n      lineHeight: 1.2,\n      size: undefined,\n      style: undefined,\n      weight: null\n    },\n    formatter: formatter,\n    labels: undefined,\n    listeners: {},\n    offset: 4,\n    opacity: 1,\n    padding: {\n      top: 4,\n      right: 4,\n      bottom: 4,\n      left: 4\n    },\n    rotation: 0,\n    textAlign: 'start',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    textShadowBlur: 0,\n    textShadowColor: undefined\n  };\n\n  /**\n   * @see https://github.com/chartjs/Chart.js/issues/4176\n   */\n\n  var helpers$4 = Chart.helpers;\n  var EXPANDO_KEY = '$datalabels';\n  var DEFAULT_KEY = '$default';\n  function configure(dataset, options) {\n    var override = dataset.datalabels;\n    var listeners = {};\n    var configs = [];\n    var labels, keys;\n    if (override === false) {\n      return null;\n    }\n    if (override === true) {\n      override = {};\n    }\n    options = helpers$4.merge({}, [options, override]);\n    labels = options.labels || {};\n    keys = Object.keys(labels);\n    delete options.labels;\n    if (keys.length) {\n      keys.forEach(function (key) {\n        if (labels[key]) {\n          configs.push(helpers$4.merge({}, [options, labels[key], {\n            _key: key\n          }]));\n        }\n      });\n    } else {\n      // Default label if no \"named\" label defined.\n      configs.push(options);\n    }\n\n    // listeners: {<event-type>: {<label-key>: <fn>}}\n    listeners = configs.reduce(function (target, config) {\n      helpers$4.each(config.listeners || {}, function (fn, event) {\n        target[event] = target[event] || {};\n        target[event][config._key || DEFAULT_KEY] = fn;\n      });\n      delete config.listeners;\n      return target;\n    }, {});\n    return {\n      labels: configs,\n      listeners: listeners\n    };\n  }\n  function dispatchEvent(chart, listeners, label) {\n    if (!listeners) {\n      return;\n    }\n    var context = label.$context;\n    var groups = label.$groups;\n    var callback;\n    if (!listeners[groups._set]) {\n      return;\n    }\n    callback = listeners[groups._set][groups._key];\n    if (!callback) {\n      return;\n    }\n    if (helpers$4.callback(callback, [context]) === true) {\n      // Users are allowed to tweak the given context by injecting values that can be\n      // used in scriptable options to display labels differently based on the current\n      // event (e.g. highlight an hovered label). That's why we update the label with\n      // the output context and schedule a new chart render by setting it dirty.\n      chart[EXPANDO_KEY]._dirty = true;\n      label.update(context);\n    }\n  }\n  function dispatchMoveEvents(chart, listeners, previous, label) {\n    var enter, leave;\n    if (!previous && !label) {\n      return;\n    }\n    if (!previous) {\n      enter = true;\n    } else if (!label) {\n      leave = true;\n    } else if (previous !== label) {\n      leave = enter = true;\n    }\n    if (leave) {\n      dispatchEvent(chart, listeners.leave, previous);\n    }\n    if (enter) {\n      dispatchEvent(chart, listeners.enter, label);\n    }\n  }\n  function handleMoveEvents(chart, event) {\n    var expando = chart[EXPANDO_KEY];\n    var listeners = expando._listeners;\n    var previous, label;\n    if (!listeners.enter && !listeners.leave) {\n      return;\n    }\n    if (event.type === 'mousemove') {\n      label = layout.lookup(expando._labels, event);\n    } else if (event.type !== 'mouseout') {\n      return;\n    }\n    previous = expando._hovered;\n    expando._hovered = label;\n    dispatchMoveEvents(chart, listeners, previous, label);\n  }\n  function handleClickEvents(chart, event) {\n    var expando = chart[EXPANDO_KEY];\n    var handlers = expando._listeners.click;\n    var label = handlers && layout.lookup(expando._labels, event);\n    if (label) {\n      dispatchEvent(chart, handlers, label);\n    }\n  }\n\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/108\n  function invalidate(chart) {\n    if (chart.animating) {\n      return;\n    }\n\n    // `chart.animating` can be `false` even if there is animation in progress,\n    // so let's iterate all animations to find if there is one for the `chart`.\n    var animations = Chart.animationService.animations;\n    for (var i = 0, ilen = animations.length; i < ilen; ++i) {\n      if (animations[i].chart === chart) {\n        return;\n      }\n    }\n\n    // No render scheduled: trigger a \"lazy\" render that can be canceled in case\n    // of hover interactions. The 1ms duration is a workaround to make sure an\n    // animation is created so the controller can stop it before any transition.\n    chart.render({\n      duration: 1,\n      lazy: true\n    });\n  }\n  Chart.defaults.global.plugins.datalabels = defaults;\n  var plugin = {\n    id: 'datalabels',\n    beforeInit: function (chart) {\n      chart[EXPANDO_KEY] = {\n        _actives: []\n      };\n    },\n    beforeUpdate: function (chart) {\n      var expando = chart[EXPANDO_KEY];\n      expando._listened = false;\n      expando._listeners = {}; // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n      expando._datasets = []; // per dataset labels: [Label[]]\n      expando._labels = []; // layouted labels: Label[]\n    },\n\n    afterDatasetUpdate: function (chart, args, options) {\n      var datasetIndex = args.index;\n      var expando = chart[EXPANDO_KEY];\n      var labels = expando._datasets[datasetIndex] = [];\n      var visible = chart.isDatasetVisible(datasetIndex);\n      var dataset = chart.data.datasets[datasetIndex];\n      var config = configure(dataset, options);\n      var elements = args.meta.data || [];\n      var ctx = chart.ctx;\n      var i, j, ilen, jlen, cfg, key, el, label;\n      ctx.save();\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        el = elements[i];\n        el[EXPANDO_KEY] = [];\n        if (visible && el && !el.hidden && !el._model.skip) {\n          for (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n            cfg = config.labels[j];\n            key = cfg._key;\n            label = new Label(cfg, ctx, el, i);\n            label.$groups = {\n              _set: datasetIndex,\n              _key: key || DEFAULT_KEY\n            };\n            label.$context = {\n              active: false,\n              chart: chart,\n              dataIndex: i,\n              dataset: dataset,\n              datasetIndex: datasetIndex\n            };\n            label.update(label.$context);\n            el[EXPANDO_KEY].push(label);\n            labels.push(label);\n          }\n        }\n      }\n      ctx.restore();\n\n      // Store listeners at the chart level and per event type to optimize\n      // cases where no listeners are registered for a specific event.\n      helpers$4.merge(expando._listeners, config.listeners, {\n        merger: function (event, target, source) {\n          target[event] = target[event] || {};\n          target[event][args.index] = source[event];\n          expando._listened = true;\n        }\n      });\n    },\n    afterUpdate: function (chart, options) {\n      chart[EXPANDO_KEY]._labels = layout.prepare(chart[EXPANDO_KEY]._datasets, options);\n    },\n    // Draw labels on top of all dataset elements\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n    afterDatasetsDraw: function (chart) {\n      layout.draw(chart, chart[EXPANDO_KEY]._labels);\n    },\n    beforeEvent: function (chart, event) {\n      // If there is no listener registered for this chart, `listened` will be false,\n      // meaning we can immediately ignore the incoming event and avoid useless extra\n      // computation for users who don't implement label interactions.\n      if (chart[EXPANDO_KEY]._listened) {\n        switch (event.type) {\n          case 'mousemove':\n          case 'mouseout':\n            handleMoveEvents(chart, event);\n            break;\n          case 'click':\n            handleClickEvents(chart, event);\n            break;\n          default:\n        }\n      }\n    },\n    afterEvent: function (chart) {\n      var expando = chart[EXPANDO_KEY];\n      var previous = expando._actives;\n      var actives = expando._actives = chart.lastActive || []; // public API?!\n      var updates = utils.arrayDiff(previous, actives);\n      var i, ilen, j, jlen, update, label, labels;\n      for (i = 0, ilen = updates.length; i < ilen; ++i) {\n        update = updates[i];\n        if (update[1]) {\n          labels = update[0][EXPANDO_KEY] || [];\n          for (j = 0, jlen = labels.length; j < jlen; ++j) {\n            label = labels[j];\n            label.$context.active = update[1] === 1;\n            label.update(label.$context);\n          }\n        }\n      }\n      if (expando._dirty || updates.length) {\n        layout.update(expando._labels);\n        invalidate(chart);\n      }\n      delete expando._dirty;\n    }\n  };\n\n  // TODO Remove at version 1, we shouldn't automatically register plugins.\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\n  Chart.plugins.register(plugin);\n  return plugin;\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","self","ChartDataLabels","Chart","hasOwnProperty","helpers","devicePixelRatio","window","screen","deviceXDPI","logicalXDPI","utils","toTextLines","inputs","lines","input","concat","length","pop","unshift","apply","split","Array","isArray","push","isNullOrUndef","toFontString","font","size","family","style","weight","textSize","ctx","items","ilen","prev","width","i","string","Math","max","measureText","height","lineHeight","parseFont","value","defaults","valueOrDefault","defaultFontSize","defaultFontFamily","options","toLineHeight","defaultFontStyle","bound","min","arrayDiff","a0","a1","slice","updates","j","v","indexOf","splice","rasterize","round","orient","point","origin","x0","x","y0","y","dx","dy","ln","sqrt","aligned","vx","vy","align","PI","cos","sin","R_INSIDE","R_LEFT","R_RIGHT","R_BOTTOM","R_TOP","region","rect","res","left","right","top","bottom","clipped","segment","area","x1","y1","r0","r1","r","compute","range","config","anchor","clamp","positioners","arc","vm","angle","startAngle","endAngle","innerRadius","outerRadius","rx","radius","ry","sx","sy","horizontal","base","abs","fallback","helpers$1","boundingRects","model","borderWidth","padding","th","tw","tx","ty","frame","w","h","text","getScaleOrigin","el","_model","scale","_scale","_xScale","_yScale","xCenter","undefined","yCenter","pixel","getBasePixel","getPositioner","elements","Arc","Point","Rectangle","drawFrame","bgColor","backgroundColor","borderColor","beginPath","canvas","roundedRect","borderRadius","closePath","fillStyle","fill","strokeStyle","lineWidth","lineJoin","stroke","textGeometry","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","drawText","textAlign","color","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","textBaseline","textShadowBlur","shadowColor","textShadowColor","Label","index","me","_config","_index","_rects","_ctx","_el","extend","prototype","_modelize","display","context","resolve","defaultFontColor","chart","chartArea","clip","offset","opacity","toPadding","positioner","rotation","update","rects","label","dataset","data","callback","formatter","geometry","visible","draw","center","save","globalAlpha","translate","rotate","restore","helpers$2","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","points","axis","pt","dp","toAxis","p0","p1","HitBox","_rotation","_rect","contains","margin","intersects","other","_points","axes","pr0","pr1","coordinates","view","vs","collide","labels","collider","s0","s1","$layout","_visible","_box","compute$1","state","h0","_hidable","h1","layout","prepare","datasets","jlen","_set","_idx","sort","a","b","sa","sb","dirty","lookup","_view","helpers$3","keys","klen","k","isObject","Object","listeners","helpers$4","EXPANDO_KEY","DEFAULT_KEY","configure","override","datalabels","configs","merge","forEach","key","_key","reduce","target","each","fn","event","dispatchEvent","$context","groups","$groups","_dirty","dispatchMoveEvents","previous","enter","leave","handleMoveEvents","expando","_listeners","type","_labels","_hovered","handleClickEvents","handlers","click","invalidate","animating","animations","animationService","render","duration","lazy","plugins","plugin","id","beforeInit","_actives","beforeUpdate","_listened","_datasets","afterDatasetUpdate","args","datasetIndex","isDatasetVisible","meta","hidden","skip","active","dataIndex","merger","source","afterUpdate","afterDatasetsDraw","beforeEvent","afterEvent","actives","lastActive","register"],"sources":["/home/rifat/uk client/garage/garage-frontend-2/theme/node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.js"],"sourcesContent":["/*!\n * chartjs-plugin-datalabels v0.7.0\n * https://chartjs-plugin-datalabels.netlify.com\n * (c) 2019 Chart.js Contributors\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) :\ntypeof define === 'function' && define.amd ? define(['chart.js'], factory) :\n(global = global || self, global.ChartDataLabels = factory(global.Chart));\n}(this, function (Chart) { 'use strict';\n\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n\nvar helpers = Chart.helpers;\n\nvar devicePixelRatio = (function() {\n\tif (typeof window !== 'undefined') {\n\t\tif (window.devicePixelRatio) {\n\t\t\treturn window.devicePixelRatio;\n\t\t}\n\n\t\t// devicePixelRatio is undefined on IE10\n\t\t// https://stackoverflow.com/a/20204180/8837887\n\t\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n\t\tvar screen = window.screen;\n\t\tif (screen) {\n\t\t\treturn (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n\t\t}\n\t}\n\n\treturn 1;\n}());\n\nvar utils = {\n\t// @todo move this in Chart.helpers.toTextLines\n\ttoTextLines: function(inputs) {\n\t\tvar lines = [];\n\t\tvar input;\n\n\t\tinputs = [].concat(inputs);\n\t\twhile (inputs.length) {\n\t\t\tinput = inputs.pop();\n\t\t\tif (typeof input === 'string') {\n\t\t\t\tlines.unshift.apply(lines, input.split('\\n'));\n\t\t\t} else if (Array.isArray(input)) {\n\t\t\t\tinputs.push.apply(inputs, input);\n\t\t\t} else if (!helpers.isNullOrUndef(inputs)) {\n\t\t\t\tlines.unshift('' + input);\n\t\t\t}\n\t\t}\n\n\t\treturn lines;\n\t},\n\n\t// @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\n\t// @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\ttoFontString: function(font) {\n\t\tif (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (font.style ? font.style + ' ' : '')\n\t\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t\t+ font.size + 'px '\n\t\t\t+ font.family;\n\t},\n\n\t// @todo move this in Chart.helpers.canvas.textSize\n\t// @todo cache calls of measureText if font doesn't change?!\n\ttextSize: function(ctx, lines, font) {\n\t\tvar items = [].concat(lines);\n\t\tvar ilen = items.length;\n\t\tvar prev = ctx.font;\n\t\tvar width = 0;\n\t\tvar i;\n\n\t\tctx.font = font.string;\n\n\t\tfor (i = 0; i < ilen; ++i) {\n\t\t\twidth = Math.max(ctx.measureText(items[i]).width, width);\n\t\t}\n\n\t\tctx.font = prev;\n\n\t\treturn {\n\t\t\theight: ilen * font.lineHeight,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t// @todo move this method in Chart.helpers.options.toFont\n\tparseFont: function(value) {\n\t\tvar global = Chart.defaults.global;\n\t\tvar size = helpers.valueOrDefault(value.size, global.defaultFontSize);\n\t\tvar font = {\n\t\t\tfamily: helpers.valueOrDefault(value.family, global.defaultFontFamily),\n\t\t\tlineHeight: helpers.options.toLineHeight(value.lineHeight, size),\n\t\t\tsize: size,\n\t\t\tstyle: helpers.valueOrDefault(value.style, global.defaultFontStyle),\n\t\t\tweight: helpers.valueOrDefault(value.weight, null),\n\t\t\tstring: ''\n\t\t};\n\n\t\tfont.string = utils.toFontString(font);\n\t\treturn font;\n\t},\n\n\t/**\n\t * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n\t * @todo move this method in Chart.helpers.bound\n\t * https://doc.qt.io/qt-5/qtglobal.html#qBound\n\t */\n\tbound: function(min, value, max) {\n\t\treturn Math.max(min, Math.min(value, max));\n\t},\n\n\t/**\n\t * Returns an array of pair [value, state] where state is:\n\t * * -1: value is only in a0 (removed)\n\t * *  1: value is only in a1 (added)\n\t */\n\tarrayDiff: function(a0, a1) {\n\t\tvar prev = a0.slice();\n\t\tvar updates = [];\n\t\tvar i, j, ilen, v;\n\n\t\tfor (i = 0, ilen = a1.length; i < ilen; ++i) {\n\t\t\tv = a1[i];\n\t\t\tj = prev.indexOf(v);\n\n\t\t\tif (j === -1) {\n\t\t\t\tupdates.push([v, 1]);\n\t\t\t} else {\n\t\t\t\tprev.splice(j, 1);\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, ilen = prev.length; i < ilen; ++i) {\n\t\t\tupdates.push([prev[i], -1]);\n\t\t}\n\n\t\treturn updates;\n\t},\n\n\t/**\n\t * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n\t */\n\trasterize: function(v) {\n\t\treturn Math.round(v * devicePixelRatio) / devicePixelRatio;\n\t}\n};\n\nfunction orient(point, origin) {\n\tvar x0 = origin.x;\n\tvar y0 = origin.y;\n\n\tif (x0 === null) {\n\t\treturn {x: 0, y: -1};\n\t}\n\tif (y0 === null) {\n\t\treturn {x: 1, y: 0};\n\t}\n\n\tvar dx = point.x - x0;\n\tvar dy = point.y - y0;\n\tvar ln = Math.sqrt(dx * dx + dy * dy);\n\n\treturn {\n\t\tx: ln ? dx / ln : 0,\n\t\ty: ln ? dy / ln : -1\n\t};\n}\n\nfunction aligned(x, y, vx, vy, align) {\n\tswitch (align) {\n\tcase 'center':\n\t\tvx = vy = 0;\n\t\tbreak;\n\tcase 'bottom':\n\t\tvx = 0;\n\t\tvy = 1;\n\t\tbreak;\n\tcase 'right':\n\t\tvx = 1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'left':\n\t\tvx = -1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'top':\n\t\tvx = 0;\n\t\tvy = -1;\n\t\tbreak;\n\tcase 'start':\n\t\tvx = -vx;\n\t\tvy = -vy;\n\t\tbreak;\n\tcase 'end':\n\t\t// keep natural orientation\n\t\tbreak;\n\tdefault:\n\t\t// clockwise rotation (in degree)\n\t\talign *= (Math.PI / 180);\n\t\tvx = Math.cos(align);\n\t\tvy = Math.sin(align);\n\t\tbreak;\n\t}\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\tvx: vx,\n\t\tvy: vy\n\t};\n}\n\n// Line clipping (Cohen–Sutherland algorithm)\n// https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n\tvar res = R_INSIDE;\n\n\tif (x < rect.left) {\n\t\tres |= R_LEFT;\n\t} else if (x > rect.right) {\n\t\tres |= R_RIGHT;\n\t}\n\tif (y < rect.top) {\n\t\tres |= R_TOP;\n\t} else if (y > rect.bottom) {\n\t\tres |= R_BOTTOM;\n\t}\n\n\treturn res;\n}\n\nfunction clipped(segment, area) {\n\tvar x0 = segment.x0;\n\tvar y0 = segment.y0;\n\tvar x1 = segment.x1;\n\tvar y1 = segment.y1;\n\tvar r0 = region(x0, y0, area);\n\tvar r1 = region(x1, y1, area);\n\tvar r, x, y;\n\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\tif (!(r0 | r1) || (r0 & r1)) {\n\t\t\t// both points inside or on the same side: no clipping\n\t\t\tbreak;\n\t\t}\n\n\t\t// at least one point is outside\n\t\tr = r0 || r1;\n\n\t\tif (r & R_TOP) {\n\t\t\tx = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n\t\t\ty = area.top;\n\t\t} else if (r & R_BOTTOM) {\n\t\t\tx = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n\t\t\ty = area.bottom;\n\t\t} else if (r & R_RIGHT) {\n\t\t\ty = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n\t\t\tx = area.right;\n\t\t} else if (r & R_LEFT) {\n\t\t\ty = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n\t\t\tx = area.left;\n\t\t}\n\n\t\tif (r === r0) {\n\t\t\tx0 = x;\n\t\t\ty0 = y;\n\t\t\tr0 = region(x0, y0, area);\n\t\t} else {\n\t\t\tx1 = x;\n\t\t\ty1 = y;\n\t\t\tr1 = region(x1, y1, area);\n\t\t}\n\t}\n\n\treturn {\n\t\tx0: x0,\n\t\tx1: x1,\n\t\ty0: y0,\n\t\ty1: y1\n\t};\n}\n\nfunction compute(range, config) {\n\tvar anchor = config.anchor;\n\tvar segment = range;\n\tvar x, y;\n\n\tif (config.clamp) {\n\t\tsegment = clipped(segment, config.area);\n\t}\n\n\tif (anchor === 'start') {\n\t\tx = segment.x0;\n\t\ty = segment.y0;\n\t} else if (anchor === 'end') {\n\t\tx = segment.x1;\n\t\ty = segment.y1;\n\t} else {\n\t\tx = (segment.x0 + segment.x1) / 2;\n\t\ty = (segment.y0 + segment.y1) / 2;\n\t}\n\n\treturn aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n\tarc: function(vm, config) {\n\t\tvar angle = (vm.startAngle + vm.endAngle) / 2;\n\t\tvar vx = Math.cos(angle);\n\t\tvar vy = Math.sin(angle);\n\t\tvar r0 = vm.innerRadius;\n\t\tvar r1 = vm.outerRadius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x + vx * r0,\n\t\t\ty0: vm.y + vy * r0,\n\t\t\tx1: vm.x + vx * r1,\n\t\t\ty1: vm.y + vy * r1,\n\t\t\tvx: vx,\n\t\t\tvy: vy\n\t\t}, config);\n\t},\n\n\tpoint: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar rx = v.x * vm.radius;\n\t\tvar ry = v.y * vm.radius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x - rx,\n\t\t\ty0: vm.y - ry,\n\t\t\tx1: vm.x + rx,\n\t\t\ty1: vm.y + ry,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\trect: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar x = vm.x;\n\t\tvar y = vm.y;\n\t\tvar sx = 0;\n\t\tvar sy = 0;\n\n\t\tif (vm.horizontal) {\n\t\t\tx = Math.min(vm.x, vm.base);\n\t\t\tsx = Math.abs(vm.base - vm.x);\n\t\t} else {\n\t\t\ty = Math.min(vm.y, vm.base);\n\t\t\tsy = Math.abs(vm.base - vm.y);\n\t\t}\n\n\t\treturn compute({\n\t\t\tx0: x,\n\t\t\ty0: y + sy,\n\t\t\tx1: x + sx,\n\t\t\ty1: y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\tfallback: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\n\t\treturn compute({\n\t\t\tx0: vm.x,\n\t\t\ty0: vm.y,\n\t\t\tx1: vm.x,\n\t\t\ty1: vm.y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t}\n};\n\nvar helpers$1 = Chart.helpers;\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n\tvar borderWidth = model.borderWidth || 0;\n\tvar padding = model.padding;\n\tvar th = model.size.height;\n\tvar tw = model.size.width;\n\tvar tx = -tw / 2;\n\tvar ty = -th / 2;\n\n\treturn {\n\t\tframe: {\n\t\t\tx: tx - padding.left - borderWidth,\n\t\t\ty: ty - padding.top - borderWidth,\n\t\t\tw: tw + padding.width + borderWidth * 2,\n\t\t\th: th + padding.height + borderWidth * 2\n\t\t},\n\t\ttext: {\n\t\t\tx: tx,\n\t\t\ty: ty,\n\t\t\tw: tw,\n\t\t\th: th\n\t\t}\n\t};\n}\n\nfunction getScaleOrigin(el) {\n\tvar horizontal = el._model.horizontal;\n\tvar scale = el._scale || (horizontal && el._xScale) || el._yScale;\n\n\tif (!scale) {\n\t\treturn null;\n\t}\n\n\tif (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n\t\treturn {x: scale.xCenter, y: scale.yCenter};\n\t}\n\n\tvar pixel = scale.getBasePixel();\n\treturn horizontal ?\n\t\t{x: pixel, y: null} :\n\t\t{x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n\tif (el instanceof Chart.elements.Arc) {\n\t\treturn positioners.arc;\n\t}\n\tif (el instanceof Chart.elements.Point) {\n\t\treturn positioners.point;\n\t}\n\tif (el instanceof Chart.elements.Rectangle) {\n\t\treturn positioners.rect;\n\t}\n\treturn positioners.fallback;\n}\n\nfunction drawFrame(ctx, rect, model) {\n\tvar bgColor = model.backgroundColor;\n\tvar borderColor = model.borderColor;\n\tvar borderWidth = model.borderWidth;\n\n\tif (!bgColor && (!borderColor || !borderWidth)) {\n\t\treturn;\n\t}\n\n\tctx.beginPath();\n\n\thelpers$1.canvas.roundedRect(\n\t\tctx,\n\t\trasterize(rect.x) + borderWidth / 2,\n\t\trasterize(rect.y) + borderWidth / 2,\n\t\trasterize(rect.w) - borderWidth,\n\t\trasterize(rect.h) - borderWidth,\n\t\tmodel.borderRadius);\n\n\tctx.closePath();\n\n\tif (bgColor) {\n\t\tctx.fillStyle = bgColor;\n\t\tctx.fill();\n\t}\n\n\tif (borderColor && borderWidth) {\n\t\tctx.strokeStyle = borderColor;\n\t\tctx.lineWidth = borderWidth;\n\t\tctx.lineJoin = 'miter';\n\t\tctx.stroke();\n\t}\n}\n\nfunction textGeometry(rect, align, font) {\n\tvar h = font.lineHeight;\n\tvar w = rect.w;\n\tvar x = rect.x;\n\tvar y = rect.y + h / 2;\n\n\tif (align === 'center') {\n\t\tx += w / 2;\n\t} else if (align === 'end' || align === 'right') {\n\t\tx += w;\n\t}\n\n\treturn {\n\t\th: h,\n\t\tw: w,\n\t\tx: x,\n\t\ty: y\n\t};\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n\tvar shadow = ctx.shadowBlur;\n\tvar stroked = cfg.stroked;\n\tvar x = rasterize(cfg.x);\n\tvar y = rasterize(cfg.y);\n\tvar w = rasterize(cfg.w);\n\n\tif (stroked) {\n\t\tctx.strokeText(text, x, y, w);\n\t}\n\n\tif (cfg.filled) {\n\t\tif (shadow && stroked) {\n\t\t\t// Prevent drawing shadow on both the text stroke and fill, so\n\t\t\t// if the text is stroked, remove the shadow for the text fill.\n\t\t\tctx.shadowBlur = 0;\n\t\t}\n\n\t\tctx.fillText(text, x, y, w);\n\n\t\tif (shadow && stroked) {\n\t\t\tctx.shadowBlur = shadow;\n\t\t}\n\t}\n}\n\nfunction drawText(ctx, lines, rect, model) {\n\tvar align = model.textAlign;\n\tvar color = model.color;\n\tvar filled = !!color;\n\tvar font = model.font;\n\tvar ilen = lines.length;\n\tvar strokeColor = model.textStrokeColor;\n\tvar strokeWidth = model.textStrokeWidth;\n\tvar stroked = strokeColor && strokeWidth;\n\tvar i;\n\n\tif (!ilen || (!filled && !stroked)) {\n\t\treturn;\n\t}\n\n\t// Adjust coordinates based on text alignment and line height\n\trect = textGeometry(rect, align, font);\n\n\tctx.font = font.string;\n\tctx.textAlign = align;\n\tctx.textBaseline = 'middle';\n\tctx.shadowBlur = model.textShadowBlur;\n\tctx.shadowColor = model.textShadowColor;\n\n\tif (filled) {\n\t\tctx.fillStyle = color;\n\t}\n\tif (stroked) {\n\t\tctx.lineJoin = 'round';\n\t\tctx.lineWidth = strokeWidth;\n\t\tctx.strokeStyle = strokeColor;\n\t}\n\n\tfor (i = 0, ilen = lines.length; i < ilen; ++i) {\n\t\tdrawTextLine(ctx, lines[i], {\n\t\t\tstroked: stroked,\n\t\t\tfilled: filled,\n\t\t\tw: rect.w,\n\t\t\tx: rect.x,\n\t\t\ty: rect.y + rect.h * i\n\t\t});\n\t}\n}\n\nvar Label = function(config, ctx, el, index) {\n\tvar me = this;\n\n\tme._config = config;\n\tme._index = index;\n\tme._model = null;\n\tme._rects = null;\n\tme._ctx = ctx;\n\tme._el = el;\n};\n\nhelpers$1.extend(Label.prototype, {\n\t/**\n\t * @private\n\t */\n\t_modelize: function(display, lines, config, context) {\n\t\tvar me = this;\n\t\tvar index = me._index;\n\t\tvar resolve = helpers$1.options.resolve;\n\t\tvar font = utils.parseFont(resolve([config.font, {}], context, index));\n\t\tvar color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\n\n\t\treturn {\n\t\t\talign: resolve([config.align, 'center'], context, index),\n\t\t\tanchor: resolve([config.anchor, 'center'], context, index),\n\t\t\tarea: context.chart.chartArea,\n\t\t\tbackgroundColor: resolve([config.backgroundColor, null], context, index),\n\t\t\tborderColor: resolve([config.borderColor, null], context, index),\n\t\t\tborderRadius: resolve([config.borderRadius, 0], context, index),\n\t\t\tborderWidth: resolve([config.borderWidth, 0], context, index),\n\t\t\tclamp: resolve([config.clamp, false], context, index),\n\t\t\tclip: resolve([config.clip, false], context, index),\n\t\t\tcolor: color,\n\t\t\tdisplay: display,\n\t\t\tfont: font,\n\t\t\tlines: lines,\n\t\t\toffset: resolve([config.offset, 0], context, index),\n\t\t\topacity: resolve([config.opacity, 1], context, index),\n\t\t\torigin: getScaleOrigin(me._el),\n\t\t\tpadding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\n\t\t\tpositioner: getPositioner(me._el),\n\t\t\trotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n\t\t\tsize: utils.textSize(me._ctx, lines, font),\n\t\t\ttextAlign: resolve([config.textAlign, 'start'], context, index),\n\t\t\ttextShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n\t\t\ttextShadowColor: resolve([config.textShadowColor, color], context, index),\n\t\t\ttextStrokeColor: resolve([config.textStrokeColor, color], context, index),\n\t\t\ttextStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n\t\t};\n\t},\n\n\tupdate: function(context) {\n\t\tvar me = this;\n\t\tvar model = null;\n\t\tvar rects = null;\n\t\tvar index = me._index;\n\t\tvar config = me._config;\n\t\tvar value, label, lines;\n\n\t\t// We first resolve the display option (separately) to avoid computing\n\t\t// other options in case the label is hidden (i.e. display: false).\n\t\tvar display = helpers$1.options.resolve([config.display, true], context, index);\n\n\t\tif (display) {\n\t\t\tvalue = context.dataset.data[index];\n\t\t\tlabel = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\n\t\t\tlines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n\t\t\tif (lines.length) {\n\t\t\t\tmodel = me._modelize(display, lines, config, context);\n\t\t\t\trects = boundingRects(model);\n\t\t\t}\n\t\t}\n\n\t\tme._model = model;\n\t\tme._rects = rects;\n\t},\n\n\tgeometry: function() {\n\t\treturn this._rects ? this._rects.frame : {};\n\t},\n\n\trotation: function() {\n\t\treturn this._model ? this._model.rotation : 0;\n\t},\n\n\tvisible: function() {\n\t\treturn this._model && this._model.opacity;\n\t},\n\n\tmodel: function() {\n\t\treturn this._model;\n\t},\n\n\tdraw: function(chart, center) {\n\t\tvar me = this;\n\t\tvar ctx = chart.ctx;\n\t\tvar model = me._model;\n\t\tvar rects = me._rects;\n\t\tvar area;\n\n\t\tif (!this.visible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.save();\n\n\t\tif (model.clip) {\n\t\t\tarea = model.area;\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(\n\t\t\t\tarea.left,\n\t\t\t\tarea.top,\n\t\t\t\tarea.right - area.left,\n\t\t\t\tarea.bottom - area.top);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.globalAlpha = utils.bound(0, model.opacity, 1);\n\t\tctx.translate(rasterize(center.x), rasterize(center.y));\n\t\tctx.rotate(model.rotation);\n\n\t\tdrawFrame(ctx, rects.frame, model);\n\t\tdrawText(ctx, model.lines, rects.text, model);\n\n\t\tctx.restore();\n\t}\n});\n\nvar helpers$2 = Chart.helpers;\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;  // eslint-disable-line es/no-number-maxsafeinteger\n\nfunction rotated(point, center, angle) {\n\tvar cos = Math.cos(angle);\n\tvar sin = Math.sin(angle);\n\tvar cx = center.x;\n\tvar cy = center.y;\n\n\treturn {\n\t\tx: cx + cos * (point.x - cx) - sin * (point.y - cy),\n\t\ty: cy + sin * (point.x - cx) + cos * (point.y - cy)\n\t};\n}\n\nfunction projected(points, axis) {\n\tvar min = MAX_INTEGER;\n\tvar max = MIN_INTEGER;\n\tvar origin = axis.origin;\n\tvar i, pt, vx, vy, dp;\n\n\tfor (i = 0; i < points.length; ++i) {\n\t\tpt = points[i];\n\t\tvx = pt.x - origin.x;\n\t\tvy = pt.y - origin.y;\n\t\tdp = axis.vx * vx + axis.vy * vy;\n\t\tmin = Math.min(min, dp);\n\t\tmax = Math.max(max, dp);\n\t}\n\n\treturn {\n\t\tmin: min,\n\t\tmax: max\n\t};\n}\n\nfunction toAxis(p0, p1) {\n\tvar vx = p1.x - p0.x;\n\tvar vy = p1.y - p0.y;\n\tvar ln = Math.sqrt(vx * vx + vy * vy);\n\n\treturn {\n\t\tvx: (p1.x - p0.x) / ln,\n\t\tvy: (p1.y - p0.y) / ln,\n\t\torigin: p0,\n\t\tln: ln\n\t};\n}\n\nvar HitBox = function() {\n\tthis._rotation = 0;\n\tthis._rect = {\n\t\tx: 0,\n\t\ty: 0,\n\t\tw: 0,\n\t\th: 0\n\t};\n};\n\nhelpers$2.extend(HitBox.prototype, {\n\tcenter: function() {\n\t\tvar r = this._rect;\n\t\treturn {\n\t\t\tx: r.x + r.w / 2,\n\t\t\ty: r.y + r.h / 2\n\t\t};\n\t},\n\n\tupdate: function(center, rect, rotation) {\n\t\tthis._rotation = rotation;\n\t\tthis._rect = {\n\t\t\tx: rect.x + center.x,\n\t\t\ty: rect.y + center.y,\n\t\t\tw: rect.w,\n\t\t\th: rect.h\n\t\t};\n\t},\n\n\tcontains: function(point) {\n\t\tvar me = this;\n\t\tvar margin = 1;\n\t\tvar rect = me._rect;\n\n\t\tpoint = rotated(point, me.center(), -me._rotation);\n\n\t\treturn !(point.x < rect.x - margin\n\t\t\t|| point.y < rect.y - margin\n\t\t\t|| point.x > rect.x + rect.w + margin * 2\n\t\t\t|| point.y > rect.y + rect.h + margin * 2);\n\t},\n\n\t// Separating Axis Theorem\n\t// https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n\tintersects: function(other) {\n\t\tvar r0 = this._points();\n\t\tvar r1 = other._points();\n\t\tvar axes = [\n\t\t\ttoAxis(r0[0], r0[1]),\n\t\t\ttoAxis(r0[0], r0[3])\n\t\t];\n\t\tvar i, pr0, pr1;\n\n\t\tif (this._rotation !== other._rotation) {\n\t\t\t// Only separate with r1 axis if the rotation is different,\n\t\t\t// else it's enough to separate r0 and r1 with r0 axis only!\n\t\t\taxes.push(\n\t\t\t\ttoAxis(r1[0], r1[1]),\n\t\t\t\ttoAxis(r1[0], r1[3])\n\t\t\t);\n\t\t}\n\n\t\tfor (i = 0; i < axes.length; ++i) {\n\t\t\tpr0 = projected(r0, axes[i]);\n\t\t\tpr1 = projected(r1, axes[i]);\n\n\t\t\tif (pr0.max < pr1.min || pr1.max < pr0.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * @private\n\t */\n\t_points: function() {\n\t\tvar me = this;\n\t\tvar rect = me._rect;\n\t\tvar angle = me._rotation;\n\t\tvar center = me.center();\n\n\t\treturn [\n\t\t\trotated({x: rect.x, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n\t\t\trotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n\t\t];\n\t}\n});\n\nfunction coordinates(view, model, geometry) {\n\tvar point = model.positioner(view, model);\n\tvar vx = point.vx;\n\tvar vy = point.vy;\n\n\tif (!vx && !vy) {\n\t\t// if aligned center, we don't want to offset the center point\n\t\treturn {x: point.x, y: point.y};\n\t}\n\n\tvar w = geometry.w;\n\tvar h = geometry.h;\n\n\t// take in account the label rotation\n\tvar rotation = model.rotation;\n\tvar dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n\tvar dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n\t// scale the unit vector (vx, vy) to get at least dx or dy equal to\n\t// w or h respectively (else we would calculate the distance to the\n\t// ellipse inscribed in the bounding rect)\n\tvar vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n\tdx *= vx * vs;\n\tdy *= vy * vs;\n\n\t// finally, include the explicit offset\n\tdx += model.offset * vx;\n\tdy += model.offset * vy;\n\n\treturn {\n\t\tx: point.x + dx,\n\t\ty: point.y + dy\n\t};\n}\n\nfunction collide(labels, collider) {\n\tvar i, j, s0, s1;\n\n\t// IMPORTANT Iterate in the reverse order since items at the end of the\n\t// list have an higher weight/priority and thus should be less impacted\n\t// by the overlapping strategy.\n\n\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\ts0 = labels[i].$layout;\n\n\t\tfor (j = i - 1; j >= 0 && s0._visible; --j) {\n\t\t\ts1 = labels[j].$layout;\n\n\t\t\tif (s1._visible && s0._box.intersects(s1._box)) {\n\t\t\t\tcollider(s0, s1);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn labels;\n}\n\nfunction compute$1(labels) {\n\tvar i, ilen, label, state, geometry, center;\n\n\t// Initialize labels for overlap detection\n\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\tlabel = labels[i];\n\t\tstate = label.$layout;\n\n\t\tif (state._visible) {\n\t\t\tgeometry = label.geometry();\n\t\t\tcenter = coordinates(label._el._model, label.model(), geometry);\n\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t}\n\t}\n\n\t// Auto hide overlapping labels\n\treturn collide(labels, function(s0, s1) {\n\t\tvar h0 = s0._hidable;\n\t\tvar h1 = s1._hidable;\n\n\t\tif ((h0 && h1) || h1) {\n\t\t\ts1._visible = false;\n\t\t} else if (h0) {\n\t\t\ts0._visible = false;\n\t\t}\n\t});\n}\n\nvar layout = {\n\tprepare: function(datasets) {\n\t\tvar labels = [];\n\t\tvar i, j, ilen, jlen, label;\n\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\n\t\t\tfor (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n\t\t\t\tlabel = datasets[i][j];\n\t\t\t\tlabels.push(label);\n\t\t\t\tlabel.$layout = {\n\t\t\t\t\t_box: new HitBox(),\n\t\t\t\t\t_hidable: false,\n\t\t\t\t\t_visible: true,\n\t\t\t\t\t_set: i,\n\t\t\t\t\t_idx: j\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// TODO New `z` option: labels with a higher z-index are drawn\n\t\t// of top of the ones with a lower index. Lowest z-index labels\n\t\t// are also discarded first when hiding overlapping labels.\n\t\tlabels.sort(function(a, b) {\n\t\t\tvar sa = a.$layout;\n\t\t\tvar sb = b.$layout;\n\n\t\t\treturn sa._idx === sb._idx\n\t\t\t\t? sb._set - sa._set\n\t\t\t\t: sb._idx - sa._idx;\n\t\t});\n\n\t\tthis.update(labels);\n\n\t\treturn labels;\n\t},\n\n\tupdate: function(labels) {\n\t\tvar dirty = false;\n\t\tvar i, ilen, label, model, state;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tmodel = label.model();\n\t\t\tstate = label.$layout;\n\t\t\tstate._hidable = model && model.display === 'auto';\n\t\t\tstate._visible = label.visible();\n\t\t\tdirty |= state._hidable;\n\t\t}\n\n\t\tif (dirty) {\n\t\t\tcompute$1(labels);\n\t\t}\n\t},\n\n\tlookup: function(labels, point) {\n\t\tvar i, state;\n\n\t\t// IMPORTANT Iterate in the reverse order since items at the end of\n\t\t// the list have an higher z-index, thus should be picked first.\n\n\t\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\t\tstate = labels[i].$layout;\n\n\t\t\tif (state && state._visible && state._box.contains(point)) {\n\t\t\t\treturn labels[i];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tdraw: function(chart, labels) {\n\t\tvar i, ilen, label, state, geometry, center;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tstate = label.$layout;\n\n\t\t\tif (state._visible) {\n\t\t\t\tgeometry = label.geometry();\n\t\t\t\tcenter = coordinates(label._el._view, label.model(), geometry);\n\t\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t\t\tlabel.draw(chart, center);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar helpers$3 = Chart.helpers;\n\nvar formatter = function(value) {\n\tif (helpers$3.isNullOrUndef(value)) {\n\t\treturn null;\n\t}\n\n\tvar label = value;\n\tvar keys, klen, k;\n\tif (helpers$3.isObject(value)) {\n\t\tif (!helpers$3.isNullOrUndef(value.label)) {\n\t\t\tlabel = value.label;\n\t\t} else if (!helpers$3.isNullOrUndef(value.r)) {\n\t\t\tlabel = value.r;\n\t\t} else {\n\t\t\tlabel = '';\n\t\t\tkeys = Object.keys(value);\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\n\t\t\t\tlabel += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n\talign: 'center',\n\tanchor: 'center',\n\tbackgroundColor: null,\n\tborderColor: null,\n\tborderRadius: 0,\n\tborderWidth: 0,\n\tclamp: false,\n\tclip: false,\n\tcolor: undefined,\n\tdisplay: true,\n\tfont: {\n\t\tfamily: undefined,\n\t\tlineHeight: 1.2,\n\t\tsize: undefined,\n\t\tstyle: undefined,\n\t\tweight: null\n\t},\n\tformatter: formatter,\n\tlabels: undefined,\n\tlisteners: {},\n\toffset: 4,\n\topacity: 1,\n\tpadding: {\n\t\ttop: 4,\n\t\tright: 4,\n\t\tbottom: 4,\n\t\tleft: 4\n\t},\n\trotation: 0,\n\ttextAlign: 'start',\n\ttextStrokeColor: undefined,\n\ttextStrokeWidth: 0,\n\ttextShadowBlur: 0,\n\ttextShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar helpers$4 = Chart.helpers;\nvar EXPANDO_KEY = '$datalabels';\nvar DEFAULT_KEY = '$default';\n\nfunction configure(dataset, options) {\n\tvar override = dataset.datalabels;\n\tvar listeners = {};\n\tvar configs = [];\n\tvar labels, keys;\n\n\tif (override === false) {\n\t\treturn null;\n\t}\n\tif (override === true) {\n\t\toverride = {};\n\t}\n\n\toptions = helpers$4.merge({}, [options, override]);\n\tlabels = options.labels || {};\n\tkeys = Object.keys(labels);\n\tdelete options.labels;\n\n\tif (keys.length) {\n\t\tkeys.forEach(function(key) {\n\t\t\tif (labels[key]) {\n\t\t\t\tconfigs.push(helpers$4.merge({}, [\n\t\t\t\t\toptions,\n\t\t\t\t\tlabels[key],\n\t\t\t\t\t{_key: key}\n\t\t\t\t]));\n\t\t\t}\n\t\t});\n\t} else {\n\t\t// Default label if no \"named\" label defined.\n\t\tconfigs.push(options);\n\t}\n\n\t// listeners: {<event-type>: {<label-key>: <fn>}}\n\tlisteners = configs.reduce(function(target, config) {\n\t\thelpers$4.each(config.listeners || {}, function(fn, event) {\n\t\t\ttarget[event] = target[event] || {};\n\t\t\ttarget[event][config._key || DEFAULT_KEY] = fn;\n\t\t});\n\n\t\tdelete config.listeners;\n\t\treturn target;\n\t}, {});\n\n\treturn {\n\t\tlabels: configs,\n\t\tlisteners: listeners\n\t};\n}\n\nfunction dispatchEvent(chart, listeners, label) {\n\tif (!listeners) {\n\t\treturn;\n\t}\n\n\tvar context = label.$context;\n\tvar groups = label.$groups;\n\tvar callback;\n\n\tif (!listeners[groups._set]) {\n\t\treturn;\n\t}\n\n\tcallback = listeners[groups._set][groups._key];\n\tif (!callback) {\n\t\treturn;\n\t}\n\n\tif (helpers$4.callback(callback, [context]) === true) {\n\t\t// Users are allowed to tweak the given context by injecting values that can be\n\t\t// used in scriptable options to display labels differently based on the current\n\t\t// event (e.g. highlight an hovered label). That's why we update the label with\n\t\t// the output context and schedule a new chart render by setting it dirty.\n\t\tchart[EXPANDO_KEY]._dirty = true;\n\t\tlabel.update(context);\n\t}\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, label) {\n\tvar enter, leave;\n\n\tif (!previous && !label) {\n\t\treturn;\n\t}\n\n\tif (!previous) {\n\t\tenter = true;\n\t} else if (!label) {\n\t\tleave = true;\n\t} else if (previous !== label) {\n\t\tleave = enter = true;\n\t}\n\n\tif (leave) {\n\t\tdispatchEvent(chart, listeners.leave, previous);\n\t}\n\tif (enter) {\n\t\tdispatchEvent(chart, listeners.enter, label);\n\t}\n}\n\nfunction handleMoveEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar listeners = expando._listeners;\n\tvar previous, label;\n\n\tif (!listeners.enter && !listeners.leave) {\n\t\treturn;\n\t}\n\n\tif (event.type === 'mousemove') {\n\t\tlabel = layout.lookup(expando._labels, event);\n\t} else if (event.type !== 'mouseout') {\n\t\treturn;\n\t}\n\n\tprevious = expando._hovered;\n\texpando._hovered = label;\n\tdispatchMoveEvents(chart, listeners, previous, label);\n}\n\nfunction handleClickEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar handlers = expando._listeners.click;\n\tvar label = handlers && layout.lookup(expando._labels, event);\n\tif (label) {\n\t\tdispatchEvent(chart, handlers, label);\n\t}\n}\n\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/108\nfunction invalidate(chart) {\n\tif (chart.animating) {\n\t\treturn;\n\t}\n\n\t// `chart.animating` can be `false` even if there is animation in progress,\n\t// so let's iterate all animations to find if there is one for the `chart`.\n\tvar animations = Chart.animationService.animations;\n\tfor (var i = 0, ilen = animations.length; i < ilen; ++i) {\n\t\tif (animations[i].chart === chart) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// No render scheduled: trigger a \"lazy\" render that can be canceled in case\n\t// of hover interactions. The 1ms duration is a workaround to make sure an\n\t// animation is created so the controller can stop it before any transition.\n\tchart.render({duration: 1, lazy: true});\n}\n\nChart.defaults.global.plugins.datalabels = defaults;\n\nvar plugin = {\n\tid: 'datalabels',\n\n\tbeforeInit: function(chart) {\n\t\tchart[EXPANDO_KEY] = {\n\t\t\t_actives: []\n\t\t};\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\texpando._listened = false;\n\t\texpando._listeners = {};     // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n\t\texpando._datasets = [];      // per dataset labels: [Label[]]\n\t\texpando._labels = [];        // layouted labels: Label[]\n\t},\n\n\tafterDatasetUpdate: function(chart, args, options) {\n\t\tvar datasetIndex = args.index;\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar labels = expando._datasets[datasetIndex] = [];\n\t\tvar visible = chart.isDatasetVisible(datasetIndex);\n\t\tvar dataset = chart.data.datasets[datasetIndex];\n\t\tvar config = configure(dataset, options);\n\t\tvar elements = args.meta.data || [];\n\t\tvar ctx = chart.ctx;\n\t\tvar i, j, ilen, jlen, cfg, key, el, label;\n\n\t\tctx.save();\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\tel = elements[i];\n\t\t\tel[EXPANDO_KEY] = [];\n\n\t\t\tif (visible && el && !el.hidden && !el._model.skip) {\n\t\t\t\tfor (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n\t\t\t\t\tcfg = config.labels[j];\n\t\t\t\t\tkey = cfg._key;\n\n\t\t\t\t\tlabel = new Label(cfg, ctx, el, i);\n\t\t\t\t\tlabel.$groups = {\n\t\t\t\t\t\t_set: datasetIndex,\n\t\t\t\t\t\t_key: key || DEFAULT_KEY\n\t\t\t\t\t};\n\t\t\t\t\tlabel.$context = {\n\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\tchart: chart,\n\t\t\t\t\t\tdataIndex: i,\n\t\t\t\t\t\tdataset: dataset,\n\t\t\t\t\t\tdatasetIndex: datasetIndex\n\t\t\t\t\t};\n\n\t\t\t\t\tlabel.update(label.$context);\n\t\t\t\t\tel[EXPANDO_KEY].push(label);\n\t\t\t\t\tlabels.push(label);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tctx.restore();\n\n\t\t// Store listeners at the chart level and per event type to optimize\n\t\t// cases where no listeners are registered for a specific event.\n\t\thelpers$4.merge(expando._listeners, config.listeners, {\n\t\t\tmerger: function(event, target, source) {\n\t\t\t\ttarget[event] = target[event] || {};\n\t\t\t\ttarget[event][args.index] = source[event];\n\t\t\t\texpando._listened = true;\n\t\t\t}\n\t\t});\n\t},\n\n\tafterUpdate: function(chart, options) {\n\t\tchart[EXPANDO_KEY]._labels = layout.prepare(\n\t\t\tchart[EXPANDO_KEY]._datasets,\n\t\t\toptions);\n\t},\n\n\t// Draw labels on top of all dataset elements\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n\tafterDatasetsDraw: function(chart) {\n\t\tlayout.draw(chart, chart[EXPANDO_KEY]._labels);\n\t},\n\n\tbeforeEvent: function(chart, event) {\n\t\t// If there is no listener registered for this chart, `listened` will be false,\n\t\t// meaning we can immediately ignore the incoming event and avoid useless extra\n\t\t// computation for users who don't implement label interactions.\n\t\tif (chart[EXPANDO_KEY]._listened) {\n\t\t\tswitch (event.type) {\n\t\t\tcase 'mousemove':\n\t\t\tcase 'mouseout':\n\t\t\t\thandleMoveEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\thandleClickEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t}\n\t\t}\n\t},\n\n\tafterEvent: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar previous = expando._actives;\n\t\tvar actives = expando._actives = chart.lastActive || [];  // public API?!\n\t\tvar updates = utils.arrayDiff(previous, actives);\n\t\tvar i, ilen, j, jlen, update, label, labels;\n\n\t\tfor (i = 0, ilen = updates.length; i < ilen; ++i) {\n\t\t\tupdate = updates[i];\n\t\t\tif (update[1]) {\n\t\t\t\tlabels = update[0][EXPANDO_KEY] || [];\n\t\t\t\tfor (j = 0, jlen = labels.length; j < jlen; ++j) {\n\t\t\t\t\tlabel = labels[j];\n\t\t\t\t\tlabel.$context.active = (update[1] === 1);\n\t\t\t\t\tlabel.update(label.$context);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (expando._dirty || updates.length) {\n\t\t\tlayout.update(expando._labels);\n\t\t\tinvalidate(chart);\n\t\t}\n\n\t\tdelete expando._dirty;\n\t}\n};\n\n// TODO Remove at version 1, we shouldn't automatically register plugins.\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\nChart.plugins.register(plugin);\n\nreturn plugin;\n\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}